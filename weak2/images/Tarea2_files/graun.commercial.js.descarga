(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{145:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(21),i=n.n(a),o=n(2),r=n.n(o),s=n(0),c=n(13),d=n(7),l=n(16),u=n(48),m=new function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.a;i()(this,e),r()(this,"dfpAdvertising",void 0),r()(this,"isSecureContact",void 0),r()(this,"stickyTopBannerAd",void 0),r()(this,"articleBodyAdverts",void 0),r()(this,"articleAsideAdverts",void 0),r()(this,"carrotTrafficDriver",void 0),r()(this,"highMerch",void 0),r()(this,"thirdPartyTags",void 0),r()(this,"relatedWidgetEnabled",void 0),r()(this,"plista",void 0),r()(this,"commentAdverts",void 0),r()(this,"liveblogAdverts",void 0),r()(this,"paidforBand",void 0),r()(this,"asynchronous",void 0),r()(this,"adFree",void 0),r()(this,"comscore",void 0),r()(this,"launchpad",void 0);var n=/[#&]noads(&.*)?$/.test(window.location.hash),a=/[#&]noadsaf(&.*)?$/.test(window.location.hash),o=/[?&]forceads(&.*)?$/.test(window.location.search),m=!n&&!u.a.isOff("adverts"),p=t.get("page.shouldHideAdverts")||"childrens-books-site"===t.get("page.section"),g=t.get("page.isMinuteArticle"),f="Article"===t.get("page.contentType"),h="Interactive"===t.get("page.contentType"),b=t.get("page.isLiveBlog"),v=t.get("page.isHosted"),y="Identity"===t.get("page.contentType")||"identity"===t.get("page.section"),w=t.get("switches"),k="wide"===Object(c.d)(),_=document.documentElement&&document.documentElement.classList.contains("has-sticky"),j=t.get("page.showNewRecipeDesign")&&t.get("tests.abNewRecipeDesign");this.isSecureContact=["help/ng-interactive/2017/mar/17/contact-the-guardian-securely","help/2016/sep/19/how-to-contact-the-guardian-securely"].includes(t.get("page.pageId","")),this.adFree=!!a||Object(d.j)(),this.dfpAdvertising=o||w.commercial&&m&&!p&&!y&&!this.adFree,this.stickyTopBannerAd=!this.adFree&&!t.get("page.disableStickyTopBanner")&&!_,this.articleBodyAdverts=this.dfpAdvertising&&!this.adFree&&!g&&f&&!b&&!v&&!j,this.carrotTrafficDriver=!this.adFree&&this.articleBodyAdverts&&t.get("switches.carrotTrafficDriver",!1)&&!t.get("page.isPaidContent"),this.highMerch=this.dfpAdvertising&&!this.adFree&&!g&&!v&&!h&&!t.get("page.isFront")&&!j,this.thirdPartyTags=!this.adFree&&m&&!y&&!this.isSecureContact,this.launchpad=!this.adFree&&m&&!y&&!this.isSecureContact&&t.get("switches.redplanetForAus",!1),this.relatedWidgetEnabled=this.dfpAdvertising&&!this.adFree&&!n&&!p&&f&&!t.get("page.isPreview")&&t.get("page.showRelatedContent")&&!(Object(l.k)()&&t.get("page.commentable")),this.plista=this.relatedWidgetEnabled&&w.plistaForAu,this.commentAdverts=this.dfpAdvertising&&!this.adFree&&!g&&t.get("switches.enableDiscussionSwitch")&&t.get("page.commentable")&&(!b||k),this.liveblogAdverts=b&&this.dfpAdvertising&&!this.adFree,this.paidforBand=t.get("page.isPaidContent")&&!_,this.comscore=t.get("switches.comscore",!1)&&!y&&!this.isSecureContact}},178:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var a=n(3),i=function(e){try{return JSON.parse(a.a.getRaw(e)||"[]").slice(0,250).map((function(e){return Number.parseInt(e,10)})).filter((function(e){return"number"==typeof e&&!Number.isNaN(e)})).map(String)}catch(e){return[]}},o=function(){return i("_papns")},r=function(){return i("_pdfps")}},209:function(e,t,n){"use strict";n.d(t,"j",(function(){return p})),n.d(t,"v",(function(){return g})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"e",(function(){return w})),n.d(t,"d",(function(){return k})),n.d(t,"i",(function(){return _})),n.d(t,"h",(function(){return j})),n.d(t,"q",(function(){return P})),n.d(t,"p",(function(){return O})),n.d(t,"s",(function(){return B})),n.d(t,"r",(function(){return x})),n.d(t,"k",(function(){return C})),n.d(t,"u",(function(){return A})),n.d(t,"l",(function(){return S})),n.d(t,"t",(function(){return I})),n.d(t,"m",(function(){return L})),n.d(t,"n",(function(){return E})),n.d(t,"w",(function(){return M})),n.d(t,"x",(function(){return T})),n.d(t,"o",(function(){return R}));var a=n(146),i=n.n(a),o=n(13),r=n(0),s=n(30),c=n(14),d={},l=function(e,t){var n=d[t]||(d[t]=new RegExp("".concat(t,"$")));return e.replace(n,"")},u={},m=function(e,t){return Boolean(e.find((function(e){return e[0]===t[0]&&e[1]===t[1]})))},p=function(e){return Object.keys(e).reduce((function(t,n){return e[n]&&(t[n]=e[n]),t}),{})},g=function(e){return function(e,t){var n=u[t]||(u[t]=new RegExp("^".concat(t)));return e.replace(n,"")}(e,"dfp-ad--")},f=function(e){return m(e,[300,250])},h=function(e){return m(e,[300,600])},b=function(e){return m(e,[728,90])},v=function(e){return m(e,[970,250])},y=function(e){return f(e)||h(e)},w=function(e){return m(e,[320,50])},k=function(e){return b(e)||v(e)},_=function(e){return e.length>0?e.reduce((function(e,t){return e[0]>=t[0]&&e[1]>=t[1]?e:t})):null},j=function(){switch(Object(o.d)()){case"mobile":case"mobileMedium":case"mobileLandscape":return"M";case"phablet":case"tablet":return"T";case"desktop":case"leftCol":case"wide":return"D";default:return"M"}},P=function(){return Object(s.d)()},O=function(){return!Object(s.d)()},B=function(){return Object(s.d)()},x=function(){return Object(s.d)()},C=function(e){return f(e)},A=function(){return!Object(s.d)()&&!Object(s.a)()&&r.a.get("switches.prebidOzone")},S=function(){return Object(s.a)()||r.a.get("switches.prebidAppnexusUkRow")&&!Object(s.d)()||!!Object(c.e)().and},I=function(){return Object(s.c)()&&(r.a.get("page.isDev",!0)||1===(1,10,e=Math.ceil(1),t=Math.floor(10),Math.floor(Math.random()*(t-e+1))+e));var e,t},L=function(){return Object(s.c)()||Object(s.b)()},E=i()((function(){return-1!==window.location.hash.indexOf("#mobile-sticky")||r.a.get("switches.mobileStickyLeaderboard")&&Object(o.m)({min:"mobile",max:"mobileLandscape"})&&(Object(s.d)()||Object(s.a)())&&"Article"===r.a.get("page.contentType")&&!r.a.get("page.isHosted")})),M=function(e){return l(l(e,"--mobile"),"Mobile")},T=function(e){return l(e,"([2-9]|\\d{2,})")},R=-1!==window.location.hash.indexOf("#only-a9")},211:function(e,t,n){"use strict";n.d(t,"c",(function(){return I})),n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return A}));var a,i=n(24),o=n.n(i),r=n(0),s=n(1),c=n(13),d=n(4),l=n(3),u=n(14),m=n(233),p=n(80),g=n(178),f=n(16),h=n(234),b=n(145),v=n(212),y=n(209),w=n(148),k=n.n(w),_=n(146),j=n.n(_),P=n(217),O=n.n(P),B=n(236),x=n.n(B),C={},A=j()((function(e){return Object(y.j)({sens:e.sens,pt1:e.url,pt2:e.edition,pt3:e.ct,pt4:e.p,pt5:e.k,pt6:e.su,pt7:e.bp,pt8:e.x,pt9:[e.gdncrm,e.pv,e.co,e.tn,e.slot].join("|"),permutive:e.permutive})})),S=j()((function(e){return t=A(e),k()(Object.keys(t).filter((function(e){return""!==t[e]&&null!==t[e]})).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(e,"=").concat(t)})):"".concat(e,"=").concat(n)}))).join(",");var t})),I=function(){return 0!==Object.keys(C).length||Object(p.c)((function(e){var t;if((t=e.ccpa?!e.ccpa.doNotSell:e.tcfv2?!!e.tcfv2.consents&&Object.keys(e.tcfv2.consents).length>0&&Object.values(e.tcfv2.consents).every(Boolean):e[1]&&e[2]&&e[3]&&e[4]&&e[5])!==a){var n=e.ccpa?e.ccpa.doNotSell:null,i=e.tcfv2?e.tcfv2.eventStatus:"na";C=function(e,t,n){var a,i,p,y,w,k=r.a.get("page"),_={pa:e?"t":"f"},j=b.a.adFree?{af:"t"}:{},P=Object.assign({sens:k.isSensitive?"t":"f",permutive:Object(g.b)(),pv:r.a.get("ophan.pageViewId"),bp:function(){switch(Object(c.d)(!0)){case"mobile":case"mobileMedium":case"mobileLandscape":return"mobile";case"phablet":case"tablet":return"tablet";case"desktop":case"leftCol":case"wide":return"desktop";default:return"mobile"}}(),at:Object(s.d)("adtest")||void 0,si:Object(f.k)()?"t":"f",gdncrm:Object(h.a)(e),ab:function(){var e=Object(v.b)(),t=[],n=function(e,n){if("string"==typeof n&&"notintest"!==n){var a="".concat(e,"-").concat(n);t.push(a.substring(0,40))}};Object.keys(e).forEach((function(t){var a=e[t];n(t,a.variant)}));var a=r.a.get("tests");return a&&Object.entries(a).forEach((function(e){var t=o()(e,2),a=t[0],i=t[1];n(a,i)})),t}(),ref:([{id:"facebook",match:"facebook.com"},{id:"twitter",match:"t.co/"},{id:"reddit",match:"reddit.com"},{id:"google",match:"www.google"}].filter((function(e){return Object(c.e)().indexOf(e.match)>-1}))[0]||{}).id,ms:(y=k.source,y?(w=y,w.replace(/[+\s]+/g,"-").toLowerCase()).replace(/&/g,"and").replace(/'/g,""):null),fr:(p=parseInt(l.a.getRaw("gu.alreadyVisited"),10)||0,p<=5?p.toString():p>=6&&p<=9?"6-9":p>=10&&p<=15?"10-15":p>=16&&p<=19?"16-19":p>=20&&p<=29?"20-29":p>=30?"30plus":p.toString()),vl:k.videoDuration?(30*Math.ceil(k.videoDuration/30)).toString():void 0,cc:Object(d.g)(),s:k.section,rp:r.a.get("isDotcomRendering",!1)?"dotcom-rendering":"dotcom-platform",dcre:r.a.get("isDotcomRendering",!1)||r.a.get("page.dcrCouldRender",!1)?"t":"f",inskin:(i=Object(c.g)(),i&&i.width>=1560?"t":"f"),urlkw:function(e){if(e){var t=e.split("/");return(t.pop()||t.pop()).split("-")}return[]}(k.pageId),rdp:function(e){return null===e?"na":e?"t":"f"}(t),consent_tcfv2:(a=e,Object(m.a)().tcfv2&&null!==a?a?"t":"f":"na"),cmp_interaction:n||"na"},k.sharedAdTargeting,_,j,O()(Object(u.d)(),["0p19G"])),B=x()(P,(function(e){return Array.isArray(e)?e.length>0:e}));return k.appNexusPageTargeting=S(B),k.pageAdTargeting=B,B}(t,n,i),a=t}})),C}},391:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var a=n(21),i=n.n(a),o=n(27),r=n.n(o),s=n(2),c=n.n(s),d=n(29),l=n(11),u=n(64),m=n.n(u),p=n(78),g=n.n(p),f=n(79),h=n.n(f),b=n(47),v=n.n(b),y=n(399),w=n.n(y),k=n(32),_=n.n(k),j=n(20),P=n.n(j),O=n(8),B=n(34),x=n.n(B);var C={waitForImages:!0,waitForLinks:!0,waitForInteractives:!1},A=function(e){return e instanceof HTMLIFrameElement},S=function(e){try{return e.contentWindow&&e.contentWindow.document&&"complete"===e.contentWindow.document.readyState}catch(e){return!0}},I=function(e){window.setTimeout(e,5e3)},L=function(e){return e.bodySelector||"document"},E=x()((function(e){var t=_()("img",e.body).filter((function(e){return!e.complete}));return 0===t.length?Promise.resolve():new Promise((function(n){var a=0;P.a.on(e.body,"load",t,(function i(){(a+=1)===t.length&&(P.a.off(e.body,"load",i),t.length=0,n())}))}))}),L),M=x()((function(e){return 0===_()(".element-rich-link--not-upgraded",e.body).length?Promise.resolve():new Promise((function(e){O.a.once("rich-link:loaded",e)}))}),L),T=x()((function(e){var t=_()(".element-interactive",e.body).filter((function(e){var t=Array.from(e.children).filter(A);return!(t.length&&S(t[0]))}));return 0!==t.length&&"MutationObserver"in window?Promise.all(t.map((function(e){return new Promise((function(t){new MutationObserver((function(e,n){if(e.length&&e[0].addedNodes.length&&A(e[0].addedNodes[0])){var a=e[0].addedNodes[0];S(a)?(n.disconnect(),t()):a.addEventListener("load",(function(){n.disconnect(),t()}))}})).observe(e,{childList:!0})}))}))).then((function(){})):Promise.resolve()}),L),R=function(e,t,n){var a=[];return e.forEach((function(e){t(e)?a.push(e):n.push(e)})),a},D=function(e,t,n){var a=t.top-n.bottom>=e.minAbove,i=n.top-t.top>=e.minBelow;return a||i},F=function(e){g()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return h()(this,n)}}(n);function n(e){var a;return i()(this,n),a=t.call(this),c()(m()(a),"name",void 0),c()(m()(a),"message",void 0),a.name="SpaceError",a.message="There is no space left matching rules from ".concat(e.bodySelector),a}return n}(w()(Error)),z=function(e){return Object.freeze({top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight,element:e})},G=function(e,t,n){e.body=e.bodySelector&&document.querySelector(e.bodySelector)||document;var a=n||{};return function(e,t){return Promise.race([new Promise(I),Promise.all([!t.waitForImages||E(e),!t.waitForLinks||M(e),!t.waitForInteractives||T(e)])]).then((function(){return e}))}(e,t||C).then((function(){return function(e,t){var n=_()(e.bodySelector+e.slotSelector);if(e.fromBottom&&n.reverse(),e.startAt){var a=!0;t.startAt=[],n=R(n,(function(t){return t===e.startAt&&(a=!1),!a}),t.startAt)}if(e.stopAt){var i=!0;t.stopAt=[],n=R(n,(function(t){return t===e.stopAt&&(i=!1),i}),t.stopAt)}return n}(e,a)})).then((function(t){return function(e,t){var n=e.clearContentMeta?document.querySelector(".js-content-meta"):null,a=e.selectors?Object.keys(e.selectors).map((function(t){return[t,_()(e.bodySelector+t)]})):null;return l.a.measure((function(){var i=e.body instanceof Element&&e.body.getBoundingClientRect(),o=t.map(z),r=e.clearContentMeta&&n?z(n):null,s=a?a.reduce((function(e,t){return e[t[0]]=t[1].map(z),e}),{}):null;return{bodyTop:i.top||0,bodyHeight:i.height||0,candidates:o,contentMeta:r,opponents:s}}))}(e,t)})).then((function(t){return function(e,t,n){var a=e.candidates;return n.absoluteMinAbove=[],a=R(a,(function(n){return!t.absoluteMinAbove||n.top+e.bodyTop>=t.absoluteMinAbove}),n.absoluteMinAbove),n.aboveAndBelow=[],a=R(a,(function(n){var a=n.top>=t.minAbove,i=n.top+t.minBelow<=e.bodyHeight;return a&&i}),n.aboveAndBelow),t.clearContentMeta&&(n.contentMeta=[],a=R(a,(function(n){return!!e.contentMeta&&n.top>e.contentMeta.bottom+t.clearContentMeta}),n.contentMeta)),t.selectors&&Object.keys(t.selectors).forEach((function(i){n[i]=[],a=R(a,(function(n){return function(e,t,n){return n.every(D.bind(void 0,e,t))}(t.selectors[i],n,e.opponents?e.opponents[i]:[])}),n[i])})),t.filter&&(n.custom=[],a=R(a,t.filter,n.custom)),a}(t,e,a)})).then((function(t){return function(e,t){if(!t.length)throw new F(e);return t.map((function(e){return e.element}))}(e,t)}))},N=function(e){return d.a.captureException(e),!1},H=new(function(){function e(){i()(this,e),c()(this,"queue",void 0),this.queue=Promise.resolve()}return r()(e,[{key:"fillSpace",value:function(e,t,n){var a=function(e){return l.a.mutate((function(){return t(e)}))},i=function(e){if(e instanceof F)return!1;throw e};return this.queue=this.queue.then((function(){return G(e,n).then(a,i)})).catch(N),this.queue}}]),e}())},392:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(21),i=n.n(a),o=n(27),r=n.n(o),s=n(2),c=n.n(s),d=n(8),l=n(17),u=n.n(l),m=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i()(this,e),c()(this,"element",void 0),c()(this,"opts",void 0),c()(this,"offsetFromParent",void 0),c()(this,"lastMessage",void 0),this.element=t,this.opts=Object.assign({},{top:0,containInParent:!0,emitMessage:!1},n)}return r()(e,[{key:"init",value:function(){var e=this,t=this.element.parentElement;t&&(u.a.measure((function(){e.offsetFromParent=e.element.getBoundingClientRect().top-t.getBoundingClientRect().top}),this),d.a.on("window:throttledScroll",this.updatePosition.bind(this)),u.a.measure(this.updatePosition,this))}},{key:"updatePosition",value:function(){var e=this,t=this.element.parentElement;if(t){var n,a,i,o=this.element.getBoundingClientRect(),r=t.getBoundingClientRect(),s=o.height;if(r.top+this.offsetFromParent>0)i=!1,n={top:""},a="unfixed";else{i=!0;var c=this.opts.containInParent&&r.bottom<=o.height?Math.floor(r.bottom-s-this.opts.top):this.opts.top;n={top:"".concat(c,"px")},a="fixed"}this.opts.emitMessage&&a&&a!==this.lastMessage&&(this.emitMessage(a),this.lastMessage=a),n&&u.a.mutate((function(){i?e.element.classList.add("is-sticky"):e.element.classList.remove("is-sticky"),Object.assign(e.element.style,n)}),this)}}},{key:"emitMessage",value:function(e){d.a.emit("modules:".concat(this.element.id,":").concat(e))}}]),e}()},399:function(e,t,n){var a=n(47),i=n(291),o=n(400),r=n(401);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return r(e,arguments,a(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(t)}e.exports=s},400:function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},401:function(e,t,n){var a=n(291),i=n(402);function o(t,n,r){return i()?e.exports=o=Reflect.construct:e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&a(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},402:function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},403:function(e,t,n){var a=n(295),i=n(404);e.exports=function(e,t){return e&&e.length?i(e,a(t,2)):[]}},408:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(21),i=n.n(a),o=n(27),r=n.n(o),s=n(78),c=n.n(s),d=n(79),l=n.n(d),u=n(47),m=n.n(u),p=n(32),g=n.n(p),f=n(11),h=n(58),b=n(8),v=n(146),y=n.n(v);var w=new Promise((function(e,t){b.a.on("modules:onward:geo-most-popular:ready",e),b.a.on("modules:onward:geo-most-popular:cancel",e),b.a.on("modules:onward:geo-most-popular:error",t)})),k=function(e){c()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return l()(this,n)}}(n);function n(){var e;return i()(this,n),(e=t.call(this)).endpoint="/most-read-geo.json",b.a.emit("register:begin","geo-most-popular"),e}return r()(n,null,[{key:"error",value:function(e){b.a.emit("modules:onward:geo-most-popular:error",e)}}]),r()(n,[{key:"ready",value:function(){b.a.emit("register:end","geo-most-popular"),b.a.emit("modules:onward:geo-most-popular:ready",this)}}]),n}(h.a),_=function(e){e>1500&&(new k).fetch(g()(".js-components-container"),"rightHtml")},j={render:y()((function(){return f.a.measure((function(){var e=document.querySelector(".js-article__body");return e?e.getBoundingClientRect()&&e.getBoundingClientRect().height:0})).then(_),w})),whenRendered:w}},455:function(e,t,n){var a=n(192),i=n(221),o=n(100),r=n(53),s=n(140),c=n(175),d=n(150),l=n(176),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(r(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||l(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(d(e))return!a(e).length;for(var n in e)if(u.call(e,n))return!1;return!0}},456:function(e,t){e.exports='<aside id="<%= data.id %>" class="frame" data-link-name="creative | frame">\n    <div class="frame__background">\n        <img class="frame__background-image" src="<%=data.backgroundImage%>">\n    </div>\n    <div class="frame__foreground">\n        <a href="<%=data.clickMacro%><%=data.destinationUrl%>" class="frame__link-background" data-link-name="image" target="<%=data.target%>"></a>\n        <a class="frame__logo frame__logo--<%=data.brandLogoPosition%>" href="<%=data.brandUrl%>" data-link-name="logo" target="<%=data.target%>">\n            <img class="frame__logo__image" src="<%=data.brandLogo%>">\n        </a>\n        <a style="color: <%=data.contentColour%>" class="frame__content frame__content--<%=data.contentVerticalPosition%> frame__content--<%=data.contentHorizontalPosition%>" href="<%=data.clickMacro%><%=data.destinationUrl%>" target="<%=data.target%>">\n            <h2 style="font-size: <%=data.headerFontSize%>px" class="frame__content-title"><%=data.header%></h2>\n            <p style="font-size: <%=data.textFontSize%>px" class="frame__content-text"><%=data.text%></p>\n        </a>\n        <a href="<%=data.clickMacro%><%=data.callToActionUrl%>" class="frame__cta frame__link button button--tertiary button--medium" data-link-name="call to action" target="<%=data.target%>">\n            <%=data.callToAction%><%=data.externalLinkIcon%>\n        </a>\n    </div>\n</aside>\n'},457:function(e,t){e.exports='<div class="gu-comlabel has-popup">\n\t<button class="u-button-reset gu-comlabel__btn popup__toggle" data-toggle="gu-compopup--<%=data.dataAttr%>"><%=data.buttonTitle%> <%=data.icon%></button>\n\t<div class="popup popup--default is-off gu-compopup gu-compopup--<%=data.dataAttr%> gu-stylebox">\n\t\t<h3 class="gu-compopup__title"><%=data.infoTitle%></h3>\n\t\t<p class="gu-compopup__text"><%=data.infoText%></p>\n\t\t<a class="gu-compopup__link" href="<%=data.infoLinkUrl%>" target="_blank"><%=data.infoLinkText%></a>\n\t</div>\n</div>\n'},458:function(e,t){e.exports='<%if (data.hasContainer) {%><div class="creative--fabric-v1-bg-container"><%}%>\n<%if (data.showLabel) {%>\n<div class="ad-slot__label creative--fabric-v1__label fc-container--layout-front">\n    <div class="fc-container__inner">Advertisement</div>\n</div>\n<%}%>\n<div id="<%= data.id %>" class="creative--fabric-v1 l-side-margins hide-until-tablet" style="\n    background-color: <%=data.backgroundColor%>;\n    background-image: url(<%=data.backgroundImage%>);\n    background-position: <%=data.backgroundPosition%>;\n    background-repeat: <%=data.backgroundRepeat%>;\n">\n    <%if (data.scrollbg) {%><%=data.scrollbg%><%}%>\n    <a href="<%=data.clickMacro%><%=data.link%>" target="_blank">\n        <div class="gs-container">\n            <%=data.video%>\n            <div class="fabric-v1_layer fabric-v1_layer1" style="\n            background-image: url(<%=data.layerOneBGImage%>);\n            background-position: <%=data.layerOneBGPosition%>;\n        "></div>\n            <div class="fabric-v1_layer fabric-v1_layer2" style="\n            background-image: url(<%=data.layerTwoBGImage%>);\n            background-position: <%=data.layerTwoBGPosition%>;\n        "></div>\n            <div class="fabric-v1_layer fabric-v1_layer3" style="\n            background-image: url(<%=data.layerThreeBGImage%>);\n            background-position: <%=data.layerThreeBGPosition%>;\n        "></div>\n        </div>\n    </a>\n</div>\n<div class="creative--fabric-v1 l-side-margins mobile-only" style="\n    background-color: <%=data.backgroundColor%>;\n    background-image: url(<%=data.backgroundImageM%>);\n    background-position: <%=data.backgroundPositionM%>;\n    background-repeat: <%=data.backgroundRepeatM%>;\n">\n    <%if (data.scrollbg) {%><%=data.scrollbg%><%}%>\n    <a href="<%=data.link%>" target="_blank">\n        <div class="gs-container">\n            <div class="fabric-v1_layer fabric-v1_layer1" style="\n            background-image: url(<%=data.layerOneBGImageM%>);\n            background-position: <%=data.layerOneBGPositionM%>;\n        "></div>\n            <div class="fabric-v1_layer fabric-v1_layer1" style="\n            background-image: url(<%=data.layerTwoBGImageM%>);\n            background-position: <%=data.layerTwoBGPositionM%>;\n        "></div>\n            <div class="fabric-v1_layer fabric-v1_layer1" style="\n            background-image: url(<%=data.layerThreeBGImageM%>);\n            background-position: <%=data.layerThreeBGPositionM%>;\n        "></div>\n        </div>\n    </a>\n</div>\n<%if (data.hasContainer) {%></div><%}%>\n'},459:function(e,t){e.exports='<iframe width="409px" height="230px" src="<%=videoURL%>?rel=0&amp;controls=0&amp;showinfo=0&amp;title=0&amp;byline=0&amp;portrait=0" frameborder="0" class="fluid250_video fluid250_video--desktop fluid250_video--vert-pos-<%=videoPositionV%> fluid250_video--horiz-pos-<%=videoPositionH%>" style="<%=position%>"></iframe>\n'},460:function(e,t){e.exports='<div class="ad-scrolling-bg" style="background-image: url(\'<%=backgroundImageP%>\'); background-position: 50% 0; background-repeat: <%=backgroundImagePRepeat%>"></div>\n'},461:function(e,t){e.exports='<div id="<%= data.id %>" class="creative--expandable creative--fabric-expanding-v1">\n    <div class="ad-slot__label adFullWidth__label facia-container--layout-front">\n        <div class="facia-container__inner">Advertisement</div>\n    </div>\n    <div class="ad-exp--expand l-side-margins mobile-only" style="background-color: <%=data.backgroundColor%>">\n        <div class="facia-container__inner facia-container__inner--full-span" style="background: url(\'<%=data.backgroundImageM%>\') <%=data.backgroundRepeatM%> <%=data.backgroundPositionM%>;">\n            <%=data.showPlus%>\n            <%=data.showArrow%>\n            <div class="ad-exp-collapse__slide slide-1" style="background: <%=data.slide1BGColor%> url(\'<%=data.slide1BGImageM%>\') <%=data.slide1BGImageRepeatM%> <%=data.slide1BGImagePositionM%>;">\n                <a href="<%=data.clickMacro%><%=data.link%>" target="_new">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide1Layer1BGImageM%>\') <%=data.slide1Layer1BGImageRepeatM%> <%=data.slide1Layer1BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide1Layer2BGImageM%>\') <%=data.slide1Layer2BGImageRepeatM%> <%=data.slide1Layer2BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide1Layer3BGImageM%>\') <%=data.slide1Layer3BGImageRepeatM%> <%=data.slide1Layer3BGImagePositionM%>;"></div>\n                </a>\n            </div>\n            <div class="ad-exp-collapse__slide slide-2" style="background: <%=data.slide2BGColor%> url(\'<%=data.slide2BGImageM%>\') <%=data.slide2BGImagePositionM%> <%=data.slide2BGImageRepeatM%>;">\n                <%=data.videoMobile%>\n                <a href="<%=data.clickMacro%><%=data.link%>" target="_new">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide2Layer1BGImageM%>\') <%=data.slide2Layer1BGImageRepeatM%> <%=data.slide2Layer1BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide2Layer2BGImageM%>\') <%=data.slide2Layer2BGImageRepeatM%> <%=data.slide2Layer2BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide2Layer3BGImageM%>\') <%=data.slide2Layer3BGImageRepeatM%> <%=data.slide2Layer3BGImagePositionM%>;"></div>\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class="ad-exp--expand l-side-margins hide-until-tablet" style="background-color: <%=data.backgroundColor%>">\n        <%=data.scrollbg%>\n        <div class="facia-container__inner facia-container__inner--full-span" style="background: url(\'<%=data.backgroundImage%>\') <%=data.backgroundRepeat%> <%=data.backgroundPosition%>;">\n            <%=data.showPlus%>\n            <%=data.showArrow%>\n            <div class="ad-exp-collapse__slide slide-1" style="background: <%=data.slide1BGColor%> url(\'<%=data.slide1BGImage%>\') <%=data.slide1BGImageRepeat%> <%=data.slide1BGImagePosition%>;">\n                <a href="<%=data.clickMacro%><%=data.link%>" target="_new">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide1Layer1BGImage%>\') <%=data.slide1Layer1BGImageRepeat%> <%=data.slide1Layer1BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide1Layer2BGImage%>\') <%=data.slide1Layer2BGImageRepeat%> <%=data.slide1Layer2BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background : url(\'<%=data.slide1Layer3BGImage%>\') <%=data.slide1Layer3BGImageRepeat%> <%=data.slide1Layer3BGImagePosition%>;"></div>\n                </a>\n            </div>\n            <div class="ad-exp-collapse__slide slide-2" style="background: <%=data.slide2BGColor%> url(\'<%=data.slide2BGImage%>\') <%=data.slide2BGImagePosition%> <%=data.slide2BGImageRepeat%>;">\n                <%=data.videoDesktop%>\n                <a href="<%=data.clickMacro%><%=data.link%>" target="_new">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide2Layer1BGImage%>\') <%=data.slide2Layer1BGImageRepeat%> <%=data.slide2Layer1BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide2Layer2BGImage%>\') <%=data.slide2Layer2BGImageRepeat%> <%=data.slide2Layer2BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide2Layer3BGImage%>\') <%=data.slide2Layer3BGImageRepeat%> <%=data.slide2Layer3BGImagePosition%>;"></div>\n                </a>\n            </div>\n        </div>\n    </div>\n</div>\n'},462:function(e,t){e.exports='<iframe\n    width="<%=width%>"\n    height="<%=height%>"\n    src="<%=src%>"\n    frameborder="0"\n    class="<%=className%>"\n    style="<%=inlineStyle%>">\n</iframe>\n'},463:function(e,t,n){var a=n(425),i=n(172),o=n(464),r=n(286),s=n(147),c=r((function(e,t){return a(t,(function(t){t=s(t),i(e,t,o(e[t],e))})),e}));e.exports=c},464:function(e,t,n){var a=n(213),i=n(426),o=n(395),r=n(388),s=a((function(e,t,n){var a=1;if(n.length){var c=r(n,o(s));a|=32}return i(e,a,t,n,c)}));s.placeholder={},e.exports=s},479:function(e,t){e.exports='<div id="<%= data.id %>" class="creative--expandable-video creative--expandable-video-v2 <%=data.videoOptions%>">\n\n    <div class="ad-slot__label adFullWidth__label facia-container--layout-front">\n        <div class="facia-container__inner">Advertisement</div>\n    </div>\n\n    <div class="ad-exp--expand l-side-margins mobile-only" style="background: <%=data.backgroundColor%> url(\'<%=data.backgroundImageM%>\') <%=data.backgroundRepeatM%> <%=data.backgroundPositionM%>">\n        <div class="slide-container">\n            <div class="ad-exp-collapse__slide slide-1" style="background: <%=data.slide1BGColor%> url(\'<%=data.slide1BGImageM%>\') <%=data.slide1BGImageRepeatM%> <%=data.slide1BGImagePositionM%>;">\n                <div class="ad-exp__open">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide1Layer1BGImageM%>\') <%=data.slide1Layer1BGImageRepeatM%> <%=data.slide1Layer1BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide1Layer2BGImageM%>\') <%=data.slide1Layer2BGImageRepeatM%> <%=data.slide1Layer2BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide1Layer3BGImageM%>\') <%=data.slide1Layer3BGImageRepeatM%> <%=data.slide1Layer3BGImagePositionM%>;"></div>\n                </div>\n            </div>\n            <div class="ad-exp-collapse__slide slide-2" style="background: <%=data.slide2BGColor%> url(\'<%=data.slide2BGImageM%>\') <%=data.slide2BGImagePositionM%> <%=data.slide2BGImageRepeatM%>;">\n                <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide2Layer1BGImageM%>\') <%=data.slide2Layer1BGImageRepeatM%> <%=data.slide2Layer1BGImagePositionM%>;"></div>\n                <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide2Layer2BGImageM%>\') <%=data.slide2Layer2BGImageRepeatM%> <%=data.slide2Layer2BGImagePositionM%>;"></div>\n                <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide2Layer3BGImageM%>\') <%=data.slide2Layer3BGImageRepeatM%> <%=data.slide2Layer3BGImagePositionM%>;"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="ad-exp--expand l-side-margins hide-until-tablet" style="background: <%=data.backgroundColor%> url(\'<%=data.backgroundImage%>\') <%=data.backgroundRepeat%> <%=data.backgroundPosition%>">\n        <div class="slide-container" style="">\n            <div class="ad-exp-collapse__slide slide-1" style="background: <%=data.slide1BGColor%> url(\'<%=data.slide1BGImage%>\') <%=data.slide1BGImageRepeat%> <%=data.slide1BGImagePosition%>;">\n                <div class="ad-exp__open">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide1Layer1BGImage%>\') <%=data.slide1Layer1BGImageRepeat%> <%=data.slide1Layer1BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide1Layer2BGImage%>\') <%=data.slide1Layer2BGImageRepeat%> <%=data.slide1Layer2BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background : url(\'<%=data.slide1Layer3BGImage%>\') <%=data.slide1Layer3BGImageRepeat%> <%=data.slide1Layer3BGImagePosition%>;"></div>\n                </div>\n            </div>\n            <div class="ad-exp-collapse__slide slide-2" style="background: <%=data.slide2BGColor%> url(\'<%=data.slide2BGImage%>\') <%=data.slide2BGImagePosition%> <%=data.slide2BGImageRepeat%>;">\n                <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide2Layer1BGImage%>\') <%=data.slide2Layer1BGImageRepeat%> <%=data.slide2Layer1BGImagePosition%>;"></div>\n                <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide2Layer2BGImage%>\') <%=data.slide2Layer2BGImageRepeat%> <%=data.slide2Layer2BGImagePosition%>;"></div>\n                <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide2Layer3BGImage%>\') <%=data.slide2Layer3BGImageRepeat%> <%=data.slide2Layer3BGImagePosition%>;"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="slide-video">\n        <div class="slide-container">\n            <a href="<%=data.clickMacro%><%=data.link%>" target="_blank" class="video-container__cta"></a>\n            <div class="video-container__inner">\n                <%=data.videoEmbed%>\n            </div>\n            <%=data.mobileCTA%>\n            <%=data.desktopCTA%>\n        </div>\n    </div>\n\n    <%=data.showPlus%>\n    <%=data.showArrow%>\n</div>\n'},480:function(e,t){e.exports='<a class="creative__cta creative__cta--position-<%=position%> <%=media%>" href="<%=link%>" target="_blank"><img src="<%=image%>" alt></a>\n'},481:function(e,t){e.exports='<div id="<%= data.id %>" class="creative creative--fabric-video">\n    <a class="creative__link" href="<%=data.clickMacro%><%=data.Link%>" target="_blank">\n        <div class="creative__alt creative__alt--tablet hide-until-tablet"  style="background-color:<%=data.Backgroundcolour%>;background-image:url(<%=data.Backgroundimage%>);background-position:<%=data.Backgroundposition%>;background-repeat:<%=data.Backgroundrepeat%>;">\n            <%=data.posterTablet%>\n            <%=data.video%>\n            <div class="creative__layer creative__layer1" style="background-image:url(<%=data.Layer1backgroundimage%>);background-position: <%=data.Layer1backgroundimageposition%>;"></div>\n            <div class="creative__layer creative__layer2">\n                <div style="background-image:url(<%=data.Layer2animatedimage1%>)" class="creative__slide creative__slide1"></div>\n                <div style="background-image:url(<%=data.Layer2animatedimage2%>)" class="creative__slide creative__slide2"></div>\n                <div style="background-image:url(<%=data.Layer2animatedimage3%>)" class="creative__slide creative__slide3"></div>\n                <div style="background-image:url(<%=data.Layer2animatedimage4%>)" class="creative__slide creative__slide4">\n                    <%if (data.Layer2clickbutton){%>\n                        <img src="<%=data.Layer2clickbutton%>" class="click_button"></div>\n                    <%}%>\n                </div>\n            </div>\n            <div class="creative__layer creative__layer3" style="background-image:url(<%=data.Layer3backgroundimage%>);background-position: <%=data.Layer3backgroundimageposition%>;"></div>\n        </div>\n\n        <div class="creative__alt creative__alt--mobile mobile-only" style="background-color:<%=data.Backgroundcolour%>;background-image: url(<%=data.BackgroundImagemobile%>);background-position:<%=data.BackgroundImagemobileposition%>;background-repeat:<%=data.Backgroundimagemobilerepeat%>;">\n            <%=data.posterMobile%>\n            <div class="creative__layer creative__layer1" style="background-image:url(<%=data.Layer1backgroundimagemobile%>);background-position:<%=data.Layer1backgroundimagepositionmobile%>;"></div>\n            <div class="creative__layer creative__layer2" style="background-image:url(<%=data.Layer2backgroundimagemobile%>);background-position:<%=data.Layer2backgroundimagepositionmobile%>;"></div>\n            <div class="creative__layer creative__layer3" style="background-image:url(<%=data.Layer3backgroundimagemobile%>);background-position:<%=data.Layer3backgroundimagepositionmobile%>;"></div>\n        </div>\n    </a>\n</div>\n'},482:function(e,t,n){void 0!==e.exports&&(e.exports=function(e){"use strict";var t=new Image,n="object-fit"in t.style,a="object-position"in t.style,i=/(object-fit|object-position)\s*:\s*([-\w\s%]+)/g;function o(e){for(var t=getComputedStyle(e).fontFamily,n=null,a={};null!==(n=i.exec(t));)a[n[1]]=n[2];return a["object-position"]?function(e){return~e["object-position"].indexOf("left")?e["object-position-x"]="left":~e["object-position"].indexOf("right")?e["object-position-x"]="right":e["object-position-x"]="center",~e["object-position"].indexOf("top")?e["object-position-y"]="top":~e["object-position"].indexOf("bottom")?e["object-position-y"]="bottom":e["object-position-y"]="center",e}(a):a}function r(e,t){if("fill"!==t["object-fit"]){var n=e.style,a=window.getComputedStyle(e),i=document.createElement("object-fit");i.appendChild(e.parentNode.replaceChild(i,e));var o={height:"100%",width:"100%",boxSizing:"content-box",display:"inline-block",overflow:"hidden"};for(var r in"backgroundColor backgroundImage borderColor borderStyle borderWidth bottom fontSize lineHeight left opacity margin position right top visibility".replace(/\w+/g,(function(e){o[e]=a[e]})),o)i.style[r]=o[r];n.border=n.margin=n.padding=0,n.display="block",n.opacity=1,e.addEventListener("loadedmetadata",s),window.addEventListener("optimizedResize",s),e.readyState>=1&&(e.removeEventListener("loadedmetadata",s),s())}function s(){var a=e.videoWidth/e.videoHeight,o=i.clientWidth,r=i.clientHeight,s=o/r,c=0,d=0;n.marginLeft=n.marginTop=0,(a<s?"contain"===t["object-fit"]:"cover"===t["object-fit"])?(c=r*a,d=o/a,n.width=Math.round(c)+"px",n.height=r+"px","left"===t["object-position-x"]?n.marginLeft=0:"right"===t["object-position-x"]?n.marginLeft=Math.round(o-c)+"px":n.marginLeft=Math.round((o-c)/2)+"px"):(d=o/a,n.width=o+"px",n.height=Math.round(d)+"px","top"===t["object-position-y"]?n.marginTop=0:"bottom"===t["object-position-y"]?n.marginTop=Math.round(r-d)+"px":n.marginTop=Math.round((r-d)/2)+"px"),e.autoplay&&e.play()}}n&&a||(function(e){var t=-1;e?"length"in e||(e=[e]):e=document.querySelectorAll("video");for(;e[++t];){var n=o(e[t]);(n["object-fit"]||n["object-position"])&&(n["object-fit"]=n["object-fit"]||"fill",r(e[t],n))}}(e),function(e,t,n){n=n||window;var a=!1,i=null;try{i=new CustomEvent(t)}catch(e){(i=document.createEvent("Event")).initEvent(t,!0,!0)}n.addEventListener("resize",(function(){a||(a=!0,requestAnimationFrame((function(){n.dispatchEvent(i),a=!1})))}))}(0,"optimizedResize"))})},483:function(e,t){e.exports='<div class="fc-container fc-container--<%=widgetType%> hide-on-childrens-books-site js-<%=widgetType%>">\n    <div class="fc-container__inner js-<%=widgetType%>-container"></div>\n</div>\n'},588:function(e,t,n){"use strict";n.r(t),n.d(t,"bootCommercial",(function(){return qi}));var a=n(0),i=n(181),o=n(75),r=n(9),s=n(11),c=n(2),d=n.n(c),l=function(e,t){return Object.freeze({width:e,height:t,toString:function(){return e===t&&0===t?"fluid":"".concat(e,",").concat(t)}})},u={billboard:l(970,250),leaderboard:l(728,90),mpu:l(300,250),halfPage:l(300,600),portrait:l(300,1050),skyscraper:l(160,600),mobilesticky:l(320,50),fluid:l(0,0),outOfPage:l(1,1),googleCard:l(300,274),video:l(620,1),outstreamDesktop:l(620,350),outstreamGoogleDesktop:l(550,310),outstreamMobile:l(300,197),merchandisingHighAdFeature:l(88,89),merchandisingHigh:l(88,87),merchandising:l(88,88),inlineMerchandising:l(88,85),fabric:l(88,71),empty:l(2,2)};u["970x250"]=u.billboard,u["728x90"]=u.leaderboard,u["300x250"]=u.mpu,u["300x600"]=u.halfPage,u["300x1050"]=u.portrait,u["160x600"]=u.skyscraper;var m={sizeMappings:{mobile:[u.outOfPage,u.empty,u.outstreamMobile,u.mpu,u.googleCard,u.fluid],phablet:[u.outOfPage,u.empty,u.outstreamMobile,u.mpu,u.googleCard,u.outstreamDesktop,u.outstreamGoogleDesktop,u.fluid],desktop:[u.outOfPage,u.empty,u.mpu,u.googleCard,u.video,u.outstreamDesktop,u.outstreamGoogleDesktop,u.fluid]}},p={im:{label:!1,refresh:!1,sizeMappings:{mobile:[u.outOfPage,u.empty,u.inlineMerchandising,u.fluid]}},"high-merch":{label:!1,refresh:!1,name:"merchandising-high",sizeMappings:{mobile:[u.outOfPage,u.empty,u.merchandisingHigh,u.fluid]}},"high-merch-lucky":{label:!1,refresh:!1,name:"merchandising-high-lucky",sizeMappings:{mobile:[u.outOfPage,u.empty,u.fluid]}},"high-merch-paid":{label:!1,refresh:!1,name:"merchandising-high",sizeMappings:{mobile:[u.outOfPage,u.empty,u.merchandisingHighAdFeature,u.fluid]}},inline:m,mostpop:m,comments:m,"top-above-nav":{sizeMappings:{mobile:[u.outOfPage,u.empty,u.fabric,u.outstreamMobile,u.mpu,u.fluid]}},carrot:{label:!1,refresh:!1,name:"carrot",sizeMappings:{mobile:[u.fluid]}},epic:{label:!1,refresh:!1,name:"epic",sizeMappings:{mobile:[u.fluid]}},"mobile-sticky":{label:!0,refresh:!0,name:"mobile-sticky",sizeMappings:{mobile:[u.mobilesticky]}}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},i=p[e],o=t.name||i.name||e,r=t.classes?t.classes.split(" ").map((function(e){return"ad-slot--".concat(e)})):[],s=Object.assign({},i.sizeMappings);return t.sizes&&Object.keys(t.sizes).forEach((function(e){s[e]?s[e]=s[e].concat(t.sizes[e]):s[e]=t.sizes[e]})),Object.keys(s).forEach((function(e){s[e]=s[e].join("|")})),Object.assign(n,s),!1===i.label&&(n.label="false"),!1===i.refresh&&(n.refresh="false"),r.push("ad-slot--".concat(o)),function(e,t,n){var i=[],o="dfp-ad--".concat(e);if(a.a.get("isDotcomRendering",!1)&&"top-above-nav"===e){var r=document.getElementById(o);if(r&&r.parentNode){var s=r.parentNode;console.log("warning: cleaning up dom node id: dfp-ad--".concat(e)),s.removeChild(r)}}var c=document.createElement("div");return c.id=o,c.className="js-ad-slot ad-slot ".concat(n.join(" ")),c.setAttribute("data-link-name","ad slot ".concat(e)),c.setAttribute("data-name",e),c.setAttribute("aria-hidden","true"),Object.keys(t).forEach((function(e){c.setAttribute(e,t[e])})),i.push(c),i}(o,Object.keys(n).reduce((function(e,t){return Object.assign({},e,d()({},"data-".concat(t),n[t]))}),{}),r)},f=n(145),h=n(24),b=n.n(h),v=n(12),y=n(8),w=(n(5),n(13)),k=n(391),_=n(14),j={renderStartTime:-1,adSlotSelector:".js-ad-slot",hbImpl:a.a.get("page.hbImpl"),lazyLoadEnabled:!1,lazyLoadObserve:"IntersectionObserver"in window,creativeIDs:[],advertIds:{},advertsToLoad:[],advertsToRefresh:[],adverts:[],shouldLazyLoad:function(){return!a.a.get("page.hasPageSkin")&&"1"!==Object(_.d)().dll}},P=n(15),O=n.n(P),B=n(21),x=n.n(B),C=n(27),A=n.n(C),S=n(403),I=n.n(S),L=n(287),E=n.n(L),M=n(146),T=n.n(M),R=T()((function(){var e=Object(_.d)();return e["ad-unit"]?"/".concat(a.a.get("page.dfpAccountId"),"/").concat(e["ad-unit"]):a.a.get("page.adUnit")})),D=function(e,t){var n,i=e.getAttribute("data-name"),o=function(e){var t=function(e){var t=window.googletag.sizeMapping();return w.c.filter((function(t){return t.name in e})).forEach((function(n){t.addSize([n.width,0],e[n.name])})),t.build()}(e);return{sizeMapping:t,sizes:I()(E()(t.map((function(e){return e[1]}))),(function(e){return"".concat(e[0],"-").concat(e[1])}))}}(t),r=e.id,s=Promise.resolve();if(e.getAttribute("data-out-of-page")?n=window.googletag.defineOutOfPageSlot(R(),r).defineSizeMapping(o.sizeMapping):(n=window.googletag.defineSlot(R(),o.sizes,r).defineSizeMapping(o.sizeMapping),function(e){return"string"==typeof e&&("inline1"===e||"top-above-nav"===e)}(i)&&function(e){e.setSafeFrameConfig({allowOverlayExpansion:!1,allowPushExpansion:!0,sandbox:!0})}(n)),a.a.get("switches.iasAdTargeting",!1)){window.__iasPET=window.__iasPET||{};var c=window.__iasPET;c.queue=c.queue||[],c.pubId="10249";var d,l,u=[{adSlotId:r,size:n.getSizes().filter((function(e){return"fluid"!==e})).map((function(e){return[e.getWidth(),e.getHeight()]})),adUnitPath:R()}],m=new Promise((function(e){l=e}));c.queue.push({adSlots:u,dataHandler:function(e){clearTimeout(d);var t=JSON.parse(e);Object.keys(t.brandSafety).forEach((function(e){return window.googletag.pubads().setTargeting(e,t.brandSafety[e])})),t.fr&&window.googletag.pubads().setTargeting("fra",t.fr),t.custom&&t.custom["ias-kw"]&&window.googletag.pubads().setTargeting("ias-kw",t.custom["ias-kw"]);var a=["pub"];Object.keys(t.slots[r]).filter((function(e){return!a.includes(e)})).forEach((function(e){return n.setTargeting(e,t.slots[r][e])})),l()}}),s=Promise.race([new Promise((function(e){d=setTimeout(e,1e3)})),m])}var p=a.a.get("page.isbn");"im"===i&&p&&n.setTargeting("isbn",p);var g=new Map([["top-above-nav","fabric1"],["merchandising-high","fabric2"],["merchandising","fabric3"]]);return g.has(i)&&n.setTargeting("slot-fabric",g.get(i)),a.a.get("switches.adomik")&&(n.setTargeting("ad_group",function(){var e=Math.random();switch(!0){case e<.09:return"ad_ex".concat(Math.floor(100*e));case e<.1:return"ad_bc";default:return"ad_opt"}}()),n.setTargeting("ad_h",(new Date).getUTCHours().toString())),n.addService(window.googletag.pubads()).setTargeting("slot",i),{slot:n,slotReady:s}},F=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},z=function(){function e(t){var n=this;x()(this,e),d()(this,"id",void 0),d()(this,"node",void 0),d()(this,"sizes",void 0),d()(this,"size",void 0),d()(this,"slot",void 0),d()(this,"isEmpty",void 0),d()(this,"isLoading",void 0),d()(this,"isRendering",void 0),d()(this,"isLoaded",void 0),d()(this,"isRendered",void 0),d()(this,"shouldRefresh",void 0),d()(this,"maxViewPercentage",void 0),d()(this,"whenLoaded",void 0),d()(this,"whenLoadedResolver",void 0),d()(this,"whenRendered",void 0),d()(this,"whenRenderedResolver",void 0),d()(this,"whenSlotReady",void 0),d()(this,"extraNodeClasses",void 0),d()(this,"timings",void 0),d()(this,"hasPrebidSize",void 0);var a=function(e){return w.c.reduce((function(t,n){var a=e.getAttribute("data-".concat(F(n.name)));return a&&(t[n.name]=a.split("|").map((function(e){return"fluid"===e?"fluid":e.split(",").map(Number)}))),t}),{})}(t),i=D(t,a);this.id=t.id,this.node=t,this.sizes=a,this.size=null,this.slot=i.slot,this.isEmpty=null,this.isLoading=!1,this.isRendering=!1,this.isLoaded=!1,this.isRendered=!1,this.whenSlotReady=i.slotReady,this.timings={createTime:null,startLoading:null,stopLoading:null,startRendering:null,stopRendering:null,loadingMethod:null,lazyWaitComplete:null},this.shouldRefresh=!1,this.maxViewPercentage=0,this.hasPrebidSize=!1,this.whenLoaded=new Promise((function(e){n.whenLoadedResolver=e})).then((function(e){return n.isLoaded=e,e})),this.whenRendered=new Promise((function(e){n.whenRenderedResolver=e})).then((function(e){return n.isRendered=e,e})),this.extraNodeClasses=[]}return A()(e,[{key:"startLoading",value:function(){this.isLoading=!0,this.timings.startLoading=Object(o.a)()}},{key:"stopLoading",value:function(e){this.isLoading=!1,this.whenLoadedResolver&&this.whenLoadedResolver(e),this.timings.stopLoading=Object(o.a)()}},{key:"startRendering",value:function(){this.isRendering=!0,this.timings.startRendering=Object(o.a)()}},{key:"stopRendering",value:function(e){this.isRendering=!1,this.whenRenderedResolver&&this.whenRenderedResolver(e)}},{key:"updateExtraSlotClasses",value:function(){for(var t,n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var r=e.filterClasses(this.extraNodeClasses,i);(t=this.node.classList).remove.apply(t,O()(r)),(n=this.node.classList).add.apply(n,i),this.extraNodeClasses=i}}]),e}();d()(z,"filterClasses",(function(e,t){return e.filter((function(e){return!t.includes(e)}))})),z.filterClasses;var G,N=function(e){j.advertsToLoad.push(e),"false"!==e.node.getAttribute("data-refresh")&&j.advertsToRefresh.push(e)},H=n(455),q=n.n(H),V=n(211),U=n(158),$=n(212),W=n(30),Y=function(){var e,t,n;t=(e={data:{},config:{clientId:12666,onProfileReady:function(e){var t;G={ozoneLotameData:(t=e).getAudiences(),ozoneLotameProfileId:t.getProfileId()}},onTagReady:function(e){console.log(["onTagReady: ",e])}}}).config||{},(n=window["lotame_"+t.clientId]={}).config=t,n.data=e.data||{},n.cmd=n.cmd||[]},J=n(209);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var K=function(e){if(Object(W.a)())return"11016434";switch(Object(J.h)()){case"D":return Object(J.g)(e)?"9251752":Object(J.d)(e)?"9926678":"9251752";case"M":return Object(J.f)(e)?"4298191":"9251752";case"T":return Object(J.f)(e)?"4371641":Object(J.c)(e)?"4371640":"9251752";default:return"9251752"}},Q=function(e){if(Object(W.a)()&&a.a.get("switches.prebidAppnexusInvcode")){var t=function(e){var t="M"===Object(J.h)()?"M":"D",n=a.a.get("page.section","")||a.a.get("page.sectionName","").replace(/ /g,"-"),i=Object(J.i)(e);if(i)return"".concat(t).concat(n.toLowerCase()).concat(i.join("x"))}(e);if(t)return{invCode:t,member:"7012",keywords:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({invc:[t]},Object(V.b)(Object(V.c)()))}}return{placementId:K(e),keywords:Object(V.b)(Object(V.c)())}};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object(V.c)();var te,ne,ae,ie=function(){return Object($.e)(U.a,"variant")},oe="Article"===a.a.get("page.contentType"),re="D"===Object(J.h)()&&oe,se=function(e,t){switch(Object(J.w)(e)){case"dfp-ad--inline1":return"2960";case"dfp-ad--inline2":return t?"3826":"3827";case"dfp-ad--inline3":return t?"3828":"3829";case"dfp-ad--inline4":return t?"3830":"3831";case"dfp-ad--inline5":return t?"3832":"3833";case"dfp-ad--inline6":return t?"3834":"3835";case"dfp-ad--inline7":return t?"3836":"3837";case"dfp-ad--inline8":return t?"3838":"3839";case"dfp-ad--inline9":return t?"3840":"3841";case"dfp-ad--mostpop":return"2961";case"dfp-ad--right":return"2962";case"dfp-ad--top-above-nav":return"2963";case"dfp-ad--comments":return"3840";case"dfp-ad--mobile-sticky":return"8519";default:return e.startsWith("dfp-ad--inline")?t?"3840":"3841":(console.log("PREBID: Failed to get TrustX ad unit for slot ".concat(e,".")),"")}},ce=function(e){if(ie())switch(Object(J.h)()){case"D":return Object(J.b)(e)?1116408:Object(J.f)(e)?1116407:Object(J.d)(e)?1116409:-1;case"T":return Object(J.f)(e)?1116410:Object(J.c)(e)?1116411:-1;case"M":return 1116412;default:return-1}if(Object(W.c)())switch(Object(J.h)()){case"D":return Object(J.g)(e)?1116396:Object(J.d)(e)?1116397:-1;case"M":return Object(J.g)(e)?1116400:-1;case"T":return Object(J.g)(e)?1116398:Object(J.d)(e)?1116399:-1;default:return-1}if(Object(W.b)())switch(Object(J.h)()){case"D":return Object(J.g)(e)?1116420:Object(J.d)(e)?1116421:-1;case"M":return Object(J.g)(e)?1116424:-1;case"T":return Object(J.g)(e)?1116422:Object(J.d)(e)?1116423:-1;default:return-1}return-1},de=function(){var e=G,t=Object(V.b)(Object(V.c)());return void 0!==e?ee(ee({},t),{},{lotameSegs:e.ozoneLotameData,lotamePid:e.ozoneLotameProfileId}):t},le=function(){return!q()(Object(_.e)())},ue=function(e){return le()||e},me={name:"and",switchName:"prebidAppnexus",bidParams:function(e,t){return Q(t)}},pe={name:"oxd",switchName:"prebidOpenx",bidParams:function(){return Object(W.d)()?{delDomain:"guardian-us-d.openx.net",unit:"540279544",customParams:Object(V.b)(Object(V.c)())}:Object(W.a)()?{delDomain:"guardian-aus-d.openx.net",unit:"540279542",customParams:Object(V.b)(Object(V.c)())}:{delDomain:"guardian-d.openx.net",unit:"540279541",customParams:Object(V.b)(Object(V.c)())}}},ge={name:"ozone",switchName:"prebidOzone",bidParams:function(){return Object.assign({},{publisherId:"OZONEGMG0001",siteId:"4204204209",placementId:"0420420500",customData:[{settings:{},targeting:de()}],ozoneData:{}})}},fe={name:"sonobi",switchName:"prebidSonobi",bidParams:function(e){return Object.assign({},{ad_unit:a.a.get("page.adUnit"),dom_id:e,appNexusTargeting:Object(V.a)(Object(V.c)()),pageViewId:a.a.get("ophan.pageViewId")},ie()?{render:"safeframe"}:{})}},he={name:"pubmatic",switchName:"prebidPubmatic",bidParams:function(e){return Object.assign({},{publisherId:Object(W.d)()?"157206":Object(W.a)()?"157203":"157207",adSlot:Object(J.v)(e)})}},be={name:"trustx",switchName:"prebidTrustx",bidParams:function(e){return{uid:se(e,re)}}},ve={name:"triplelift",switchName:"prebidTriplelift",bidParams:function(e,t){return{inventoryCode:function(e,t){return Object(J.c)(t)?"theguardian_topbanner_728x90_prebid":Object(J.f)(t)?oe?"theguardian_article_300x250_prebid":"theguardian_sectionfront_300x250_prebid":Object(J.e)(t)?"theguardian_320x50_HDX":(console.log("PREBID: Failed to get TripleLift ad unit for slot ".concat(e,".")),"")}(e,t)}}},ye={name:"improvedigital",switchName:"prebidImproveDigital",bidParams:function(e,t){return{placementId:ce(t),size:function(e){var t=Object(J.x)(Object(J.w)(e));return t&&(t.endsWith("mostpop")||t.endsWith("comments")||t.endsWith("inline1")||t.endsWith("inline")&&!re)?{w:300,h:250}:{}}(e)}}},we={name:"xhb",switchName:"prebidXaxis",bidParams:function(e,t){return{placementId:function(e){return Object(J.b)(e)?13663297:Object(J.f)(e)?13663304:Object(J.a)(e)?13663284:13663304}(t)}}},ke={name:"adyoulike",switchName:"prebidAdYouLike",bidParams:function(){return Object(W.c)()?{placement:"2b4d757e0ec349583ce704699f1467dd"}:Object(W.d)()?{placement:"7fdf0cd05e1d4bf39a2d3df9c61b3495"}:Object(W.a)()?{placement:"5cf05e1705a2d57ba5d51e03f2af9208"}:{placement:"c1853ee8bfe0d4e935cbf2db9bb76a8b"}}},_e=function(e){var t=function(){if(!ie()){var e=a.a.get("page.pbIndexSites",[]).find((function(e){return e.bp===Object(J.h)()}));return e&&e.id?e.id.toString():""}switch(Object(J.h)()){case"D":return"287246";case"T":return"287247";case"M":return"287248";default:return"-1"}}();return e.map((function(e){return{name:"ix",switchName:"prebidIndexExchange",bidParams:function(){return{siteId:t,size:e}}}}))},je=function(e){var t=[].concat(O()(ue(Object(J.q)())?[fe]:[]),O()(ue(Object(J.s)())?[be]:[]),O()(ue(Object(J.r)())?[ve]:[]),O()(ue(Object(J.l)())?[me]:[]),O()(ue(Object(J.m)())?[ye]:[]),O()(ue(Object(J.t)())?[we]:[]),[he],O()(ue(Object(J.k)(e))?[ke]:[]),O()(ue(Object(J.u)())?[ge]:[]),O()(Object(J.p)()?[pe]:[])),n=_e(e).concat(t);return le()?function(e){return e.filter((function(e){return Object(_.e)()[e.name]}))}(n):function(e){return e.filter((function(e){return function(e){return a.a.get("switches.".concat(e.switchName))}(e)}))}(n)},Pe=function(e,t){var n=t||function(e){return[e]};return function(e,t){return t.filter((function(t){return"banner"===t.key&&!!e.id.match(/^dfp-ad--\d+/)&&e.node.classList.contains("ad-slot--banner-ad-desktop")||function(e,t){return Object(J.x)(Object(J.w)(t.id)).endsWith(e.key)}(t,e)}))}(e,function(e){var t="Article"===e,n="Crossword"===e,i=a.a.get("page.hasShowcaseMainElement",!1),o=t&&a.a.get("switches.extendedMostPopular"),r=[{key:"right",sizes:i?[[300,250]]:[[300,600],[300,250]]},{key:"inline1",sizes:n?[[728,90]]:[[300,250]]}],s=[{key:"top-above-nav",sizes:[[970,250],[728,90]]},{key:"inline",sizes:t?[[160,600],[300,600],[300,250]]:[[300,250]]},{key:"mostpop",sizes:o?[[300,600],[300,250]]:[[300,250]]},{key:"comments",sizes:[[160,600],[300,250],[300,600]]},{key:"banner",sizes:[[88,70],[728,90],[940,230],[900,250],[970,250]]}],c=[{key:"top-above-nav",sizes:[[728,90]]},{key:"inline",sizes:[[300,250]]},{key:"mostpop",sizes:o?[[300,600],[300,250],[728,90]]:[[300,250]]}],d=[{key:"top-above-nav",sizes:[[300,250]]},{key:"inline",sizes:[[300,250]]},{key:"mostpop",sizes:[[300,250]]}];switch(Object(J.h)()){case"M":return Object(J.n)()&&a.a.get("switches.mobileStickyPrebid")?r.concat([].concat(d,[{key:"mobile-sticky",sizes:[[320,50]]}])):r.concat(d);case"T":return r.concat(c);default:return r.concat(s)}}(a.a.get("page.contentType",""))).map(n).reduce((function(e,t){return e.concat(t)}),[])},Oe={buckets:[{max:100,increment:.01},{max:500,increment:1}]},Be=function(e){return e in j.advertIds?j.adverts[j.advertIds[e]]:null},xe={gdpr:{cmpApi:"iab",timeout:200,allowAuctionWithoutConsent:!0},usp:{timeout:1500}},Ce=function(){function e(t,n){x()(this,e),d()(this,"code",void 0),d()(this,"bids",void 0),d()(this,"mediaTypes",void 0),this.code=t.id,this.bids=function(e,t){return je(t).map((function(n){return{bidder:n.name,params:n.bidParams(e,t)}}))}(t.id,n.sizes),this.mediaTypes={banner:{sizes:n.sizes}}}return A()(e,[{key:"isEmpty",value:function(){return null==this.code}}]),e}(),Ae=Promise.resolve(),Se=!1,Ie=function(e,t){if(!Se)return Ae;if(!j.hbImpl.prebid)return Ae;var n=Pe(e,t).map((function(t){return new Ce(e,t)})).filter((function(e){return!e.isEmpty()}));return 0===n.length?Ae:Ae=Ae.then((function(){return new Promise((function(e){window.pbjs.que.push((function(){window.pbjs.requestBids({adUnits:n,bidsBackHandler:function(){window.pbjs.setTargetingForGPTAsync([n[0].code]),e()}})}))}))})).catch((function(){}))},Le=n(80),Ee=function(){function e(t,n){x()(this,e),d()(this,"slotID",void 0),d()(this,"slotName",void 0),d()(this,"sizes",void 0),this.slotID=t.id,this.slotName=a.a.get("page.adUnit"),this.sizes=n.sizes}return A()(e,[{key:"isEmpty",value:function(){return null==this.slotID}}]),e}(),Me=!1,Te=Promise.resolve(),Re=function(e,t){if(!Me)return Te;if(!j.hbImpl.a9)return Te;var n=Pe(e,t).map((function(t){return new Ee(e,t)})).filter((function(e){return!e.isEmpty()}));return 0===n.length?Te:Te=Te.then((function(){return new Promise((function(e){window.apstag.fetchBids({slots:n},(function(){window.googletag.cmd.push((function(){window.apstag.setDisplayBids(),e()}))}))}))})).catch((function(){}))},De=function(e,t){return"top-above-nav"!==t.key||1===t.sizes.length?[t]:Array.isArray(e.size)?[Object.assign({},t,{sizes:[[e.size[0],e.size[1]]]})]:[]},Fe=function(e){e.whenSlotReady.catch((function(){})).then((function(){return Object(o.c)("Commercial: Slot Ready: ".concat(e.id)),e.startLoading(),Promise.all([Ie(e),Re(e)])})).then((function(){window.googletag.display(e.id)}))},ze=function(e){e.whenSlotReady.then((function(){var t=Ie(e,(function(t){return De(e,t)})),n=Re(e,(function(t){return De(e,t)}));return Promise.all([t,n])})).then((function(){e.slot.setTargeting("refreshed","true"),"dfp-ad--top-above-nav"===e.id&&Array.isArray(e.size)&&e.slot.defineSizeMapping([[[0,0],[e.size]]]),window.googletag.pubads().refresh([e.slot])}))},Ge=function(e){var t=Be(e);t&&(t.isRendered?ze(t):Fe(t))},Ne=function(e,t){var n=[];e.filter((function(e){return!("isIntersecting"in e)||e.isIntersecting})).forEach((function(e){t.unobserve(e.target),Ge(e.target.id),n.push(e.target.id)})),j.advertsToLoad=j.advertsToLoad.filter((function(e){return n.indexOf(e.id)<0}))},He=T()((function(){return Promise.resolve(new window.IntersectionObserver(Ne,{rootMargin:"200px 0px"}))})),qe=function(e){j.lazyLoadObserve?He().then((function(t){return t.observe(e.node)})):Ge(e.id)},Ve=function(e,t){window.googletag.cmd.push((function(){e.id in j.advertIds||function(e,t){var n=new z(e);j.advertIds[n.id]=j.adverts.push(n)-1,j.shouldLazyLoad()&&!t?(N(n),qe(n)):Fe(n)}(e,t)}))},Ue=n(34),$e=n.n(Ue)()((function(e){return new Promise((function(t){!function n(){var a=Be(e);a?t(a):window.setTimeout(n,200)}()}))})),We=function(e){return $e(e).then((function(e){return e.whenRendered}))},Ye={bodySelector:".js-article__body",slotSelector:" > p",minAbove:500,minBelow:400,clearContentMeta:0,selectors:{" .element-rich-link":{minAbove:100,minBelow:400}," .element-image":{minAbove:440,minBelow:440}," .player":{minAbove:50,minBelow:50}," > h1":{minAbove:50,minBelow:50}," > h2":{minAbove:50,minBelow:50}," > *:not(p):not(h2):not(blockquote)":{minAbove:50,minBelow:50}," .ad-slot":{minAbove:100,minBelow:100}," .element-pullquote":{minAbove:400,minBelow:400}},fromBottom:!0},Je={bodySelector:".js-article__body",slotSelector:" > p",minAbove:500,minBelow:400,clearContentMeta:0,selectors:{" .element-rich-link":{minAbove:400,minBelow:400}," .element-image":{minAbove:440,minBelow:440}," .player":{minAbove:50,minBelow:50}," > h1":{minAbove:50,minBelow:50}," > h2":{minAbove:50,minBelow:50}," > *:not(p):not(h2):not(blockquote)":{minAbove:50,minBelow:50}," .ad-slot":{minAbove:400,minBelow:400}," .ad-slot--im":{minAbove:400,minBelow:400}," .element-pullquote":{minAbove:400,minBelow:400}},fromBottom:!0},Xe={bodySelector:".js-article__body",slotSelector:" > p",minAbove:500,minBelow:400,clearContentMeta:0,selectors:{" .element-rich-link":{minAbove:400,minBelow:400}," .element-image":{minAbove:440,minBelow:440}," .player":{minAbove:50,minBelow:50}," > h1":{minAbove:50,minBelow:50}," > h2":{minAbove:50,minBelow:50}," > *:not(p):not(h2):not(blockquote)":{minAbove:50,minBelow:50}," .ad-slot":{minAbove:400,minBelow:400}," .ad-slot--im":{minAbove:400,minBelow:400}," .element-pullquote":{minAbove:400,minBelow:400}},fromBottom:!0},Ke=function(e){var t=g("carrot"),n=e.slice(1);return s.a.mutate((function(){t.forEach((function(e){n[0]&&n[0].parentNode&&n[0].parentNode.insertBefore(e,n[0])}))})).then((function(){return Ve(t[0],!0)}))},Qe=function(){return f.a.carrotTrafficDriver?k.a.fillSpace(function(){switch(Object(w.d)()){case"mobile":case"mobileMedium":case"mobileLandscape":case"phablet":return Xe;case"tablet":case"desktop":return Je;default:return Ye}}(),Ke,{waitForImages:!0,waitForLinks:!0,waitForInteractives:!0}):Promise.resolve()},Ze=a.a.get("page.isPaidContent",!1),et={minAbove:500,minBelow:500},tt=function(e,t,n,a,i){var o=g(n,{name:t,classes:a,sizes:i});return s.a.mutate((function(){return o.forEach((function(t){e.parentNode&&e.parentNode.insertBefore(t,e)}))})).then((function(){var e=["im","carrot"].includes(t);Ve(o[0],e)}))},nt=function(e){return function(t){return(!te||Math.abs(t.top-te.top)-e>=et.minBelow)&&(te=t,!0)}},at=function(){return a.a.get("isDotcomRendering",!1)?".article-body-commercial-selector":".js-article__body"},it=function(e){var t=a.a.get("page.isImmersive"),n={bodySelector:at(),slotSelector:" > p",minAbove:t?700:300,minBelow:700,selectors:{" > h2":{minAbove:5,minBelow:190}," .ad-slot":et," > :not(p):not(h2):not(.ad-slot)":{minAbove:35,minBelow:400}," figure.element--immersive":{minAbove:0,minBelow:600}," figure.element--supporting":{minAbove:500,minBelow:0}},filter:nt(u.mpu.height)},i={bodySelector:at(),slotSelector:" > p",minAbove:Ze?1600:1e3,minBelow:800,selectors:{" .ad-slot":et," figure.element--immersive":{minAbove:0,minBelow:600}},filter:nt(u.halfPage.height)},o=e?n:i;return k.a.fillSpace(o,(function(t){var n=t.slice(0,e?1:t.length).map((function(t,n){return tt(t,"inline".concat(n+(e?1:2)),"inline","inline".concat(e?"":" offset-right"),e?null:{desktop:[u.halfPage,u.skyscraper]})}));return Promise.all(n).then((function(){return n.length}))}),{waitForImages:!0,waitForLinks:!0,waitForInteractives:!0})},ot=function(){var e;return Object(w.m)({max:"mobileLandscape"})?(e={bodySelector:at(),slotSelector:" > p",minAbove:200,minBelow:200,selectors:{" > h2":{minAbove:100,minBelow:250}," .ad-slot":et," > :not(p):not(h2):not(.ad-slot)":{minAbove:35,minBelow:200},fromBottom:!0},filter:nt(u.mpu.height)},k.a.fillSpace(e,(function(e){var t=e.map((function(e,t){return tt(e,0===t?"top-above-nav":"inline".concat(t),0===t?"top-above-nav":"inline","inline")}));return Promise.all(t).then((function(){return t.length}))}),{waitForImages:!0,waitForLinks:!0,waitForInteractives:!0})):Ze?it(!1):it(!0).then((function(){return it(!1)}))},rt=function(){if(!f.a.articleBodyAdverts)return Promise.resolve(!1);var e,t=a.a.get("page.hasInlineMerchandise")?(e={bodySelector:at(),slotSelector:" > p",minAbove:300,minBelow:0,selectors:{" > .merch":{minAbove:0,minBelow:0}," > header":{minAbove:Object(w.m)({max:"tablet"})?300:700,minBelow:0}," > h2":{minAbove:100,minBelow:250}," .ad-slot":et," > :not(p):not(h2):not(.ad-slot)":{minAbove:200,minBelow:400}}},k.a.fillSpace(e,(function(e){return tt(e[0],"im","im").then((function(){return!0}))}),{waitForImages:!0,waitForLinks:!0,waitForInteractives:!0})):Promise.resolve(!1);return t.then((function(e){return e?We("dfp-ad--im"):Promise.resolve()})).then(ot).then(Qe),t},st=n(32),ct=n.n(st),dt=function(e){return"none"===window.getComputedStyle(e).display},lt=T()((function(){var e=ct()(j.adSlotSelector);return e=e.filter(dt),s.a.mutate((function(){e.forEach((function(e){return e.remove()}))}))})),ut=".".concat("fc-slice__item--mpu-candidate"),mt=function(e){return e.className.toLowerCase().includes("fc-slice__item--mpu-candidate")},pt=function(e){var t=e.getAttribute("data-component");return t&&t.includes("commercial-container")},gt=T()((function(){if(!f.a.adFree)return Promise.resolve();var e=document.body,t=ct()(j.adSlotSelector),n=ct()(ut).filter(mt),a=ct()(".fc-container").filter(pt),i=ct()(".commercial-thrasher");return s.a.mutate((function(){e&&(e.classList.toString().includes("has-page-skin")&&e.classList.remove("has-page-skin"),e.classList.toString().includes("has-active-pageskin")&&e.classList.remove("has-active-pageskin")),t.forEach((function(e){return e.remove()})),n.forEach((function(e){return e.classList.add("fc-slice__item--no-mpu")})),a.forEach((function(e){return e.classList.add("u-h")})),i.forEach((function(e){var t=e.closest(".fc-container--thrasher");t&&t.remove()}))}))})),ft=n(377),ht=function(e){console.log("Failed to load Confiant:",e)},bt=n(29),vt={hash:function(e){var t=e;t=decodeURIComponent(encodeURIComponent(t));for(var n=[1518500249,1859775393,2400959708,3395469782],a=(t+=String.fromCharCode(128)).length/4+2,i=Math.ceil(a/16),o=new Array(i),r=0;r<i;r++){o[r]=new Array(16);for(var s=0;s<16;s++)o[r][s]=t.charCodeAt(64*r+4*s)<<24|t.charCodeAt(64*r+4*s+1)<<16|t.charCodeAt(64*r+4*s+2)<<8|t.charCodeAt(64*r+4*s+3)}o[i-1][14]=8*(t.length-1)/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=8*(t.length-1)&4294967295;for(var c,d,l,u,m,p=1732584193,g=4023233417,f=2562383102,h=271733878,b=3285377520,v=new Array(80),y=0;y<i;y++){for(var w=0;w<16;w++)v[w]=o[y][w];for(var k=16;k<80;k++)v[k]=vt.ROTL(v[k-3]^v[k-8]^v[k-14]^v[k-16],1);c=p,d=g,l=f,u=h,m=b;for(var _=0;_<80;_++){var j=Math.floor(_/20),P=vt.ROTL(c,5)+vt.f(j,d,l,u)+m+n[j]+v[_]&4294967295;m=u,u=l,l=vt.ROTL(d,30),d=c,c=P}p=p+c&4294967295,g=g+d&4294967295,f=f+l&4294967295,h=h+u&4294967295,b=b+m&4294967295}return vt.toHexStr(p)+vt.toHexStr(g)+vt.toHexStr(f)+vt.toHexStr(h)+vt.toHexStr(b)},f:function(e,t,n,a){switch(e){case 0:return t&n^~t&a;case 1:return t^n^a;case 2:return t&n^t&a^n&a;case 3:return t^n^a}},ROTL:function(e,t){return e<<t|e>>>32-t},toHexStr:function(e){for(var t="",n=7;n>=0;n--)t+=(e>>>4*n&15).toString(16);return t}},yt=vt,wt=n(3),kt=["dfp-ad--im"],_t=n(17),jt=n.n(_t),Pt=T()((function(){return Object(Le.c)((function(e){(!e.tcfv2||Object(Le.b)("prebid",e))&&(!j.hbImpl.prebid||!f.a.dfpAdvertising||f.a.adFree||a.a.get("page.hasPageSkin")||Object(w.o)()||J.o||n.e(32).then(n.t.bind(null,575,7)).then((function(){Object(V.c)(),function(e){Se=!0;var t=a.a.get("switches.prebidUserSync",!1)?{syncsPerBidder:0,filterSettings:{all:{bidders:"*",filter:"include"}}}:{syncEnabled:!1},n=Object.assign({},{bidderTimeout:1500,priceGranularity:Oe,userSync:t},a.a.get("switches.consentManagement",!1)?{consentManagement:xe}:{});e.pbjs.setConfig(n),a.a.get("switches.prebidAnalytics",!1)&&e.pbjs.enableAnalytics([{provider:"gu",options:{ajaxUrl:a.a.get("page.ajaxUrl"),pv:a.a.get("ophan.pageViewId")}}]),e.pbjs.bidderSettings={},a.a.get("switches.prebidXaxis",!1)&&(e.pbjs.bidderSettings.xhb={adserverTargeting:[{key:"hb_buyer_id",val:function(e){return e.appnexus?e.appnexus.buyerMemberId:""}}]}),e.pbjs.onEvent("bidWon",(function(e){var t=e.width,n=e.height,a=e.adUnitCode;if(t&&n&&a){var i=[t,n],o=Be(a);o&&(o.size=i,o.hasPrebidSize=!0)}}))}(window)})))})),Promise.resolve()})),Ot=function(){var e=[Pt(),lt()];return Promise.all(e).then((function(){if(f.a.adFree)return Promise.resolve();var e=a.a.get("isDotcomRendering",!1)&&"mobile"===Object(w.d)(),t=ct()(j.adSlotSelector).filter((function(e){return!(e.id in j.advertIds)})).filter((function(t){return!(e&&"dfp-ad--top-above-nav"===t.id)})).map((function(e){return new z(e)})),n=j.adverts.length;j.adverts=j.adverts.concat(t),t.forEach((function(e,t){j.advertIds[e.id]=n+t})),t.forEach(N),j.shouldLazyLoad()?function(){var e;window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices(),e=j.advertsToLoad.filter((function(e){return kt.includes(e.id)})),j.advertsToLoad=j.advertsToLoad.filter((function(e){return!kt.includes(e.id)})),e.forEach(Fe),j.advertsToLoad.forEach((function(e){qe(e)}))}():(window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices(),Fe(j.advertsToLoad[0]),j.advertsToLoad.length=0,function(){var e=document.body,t=a.a.get("page.hasPageSkin"),n="au"===a.a.get("page.edition","").toLowerCase(),i=0,o=!1,r=!1,s=function(){t&&Object(w.h)(!0)&&!f.a.adFree&&e&&jt.a.mutate((function(){e.classList.toggle("has-active-pageskin",Object(w.m)({min:"wide"}))}))},c=function(t){e&&(e.style.backgroundPosition="50% ".concat(t,"px"))},d=function(){if(0===i){var e=document.getElementsByClassName("new-header")[0];e&&(i=o?e.offsetTop+24:e.offsetTop+e.offsetHeight)}},l=function(e){var t=document.querySelector(".fc-container__inner");t&&(e.style.cssText="max-width: ".concat(t.clientWidth,"px; margin-right: auto; margin-left: auto;"))},u=function(){o&&t&&function(){var e=document.querySelector(".new-header"),t=document.querySelector(".l-footer"),n=document.querySelector(".ad-slot--top-banner-ad");if(e&&t&&n){var a=document.querySelector(".top-banner-ad-container");a&&(a.style.borderBottom="none"),d(),l(e),l(t),0===window.pageYOffset&&c(i);var o=e.getBoundingClientRect(),r=n.getBoundingClientRect(),s=o.top,u=r.bottom;s<=r.height+24-o.height&&u>0?c(u):u<=0&&c(0)}}(),r&&t&&n&&(d(),0===window.pageYOffset?c(i):window.pageXOffset<=i&&c(i-window.pageYOffset),window.pageYOffset>i&&c(0))};s(),window.addEventListener("message",(function(e){"pageskinRendered"===e.data&&(r=!0,u()),"truskinRendered"===e.data&&(o=!0,u())}),!1),y.a.on("window:throttledResize",s),t&&y.a.on("window:throttledScroll",u)}())}))},Bt=n(16),xt="".concat(window.location.protocol,"//tpc.googlesyndication.com"),Ct=function(e,t,n){t.postMessage(JSON.stringify(e),n||xt)},At="".concat(window.location.protocol,"//").concat(window.location.host),St=function(e){var t=Be(e.slot.getSlotElementId());if(t){var n=t.node.getElementsByTagName("iframe")[0];Ct({id:n.id,host:At},n.contentWindow)}},It=(n(67),n(392)),Lt=[xt,"".concat(window.location.protocol,"//").concat(window.location.host)],Et={},Mt=0,Tt={code:405,message:"Service %% not implemented"},Rt={code:500,message:"Internal server error\n\n%%"},Dt=function(e){if(e.slotId){var t=document.getElementById("dfp-ad--".concat(e.slotId)),n=t?t.getElementsByTagName("iframe"):null;return n&&n.length?n[0]:null}if(e.iframeId)return document.getElementById(e.iframeId)},Ft=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.reduce((function(e,t){return e.message=e.message.replace("%%",t),e}),e)},zt=function(e){var t;if(!(Lt.indexOf(e.origin)<0)){try{t=JSON.parse(e.data)}catch(e){return}var n;if("set-ad-height"===(n=t).type&&("id"in n.value||"slotId"in n.value)&&"height"in n.value&&(t=function(e){return{id:"aaaa0000-bb11-cc22-dd33-eeeeee444444",type:"resize",iframeId:e.value.id,slotId:e.value.slotId,value:{height:+e.value.height,width:+e.value.width}}}(t)),function(e){return"type"in e&&"value"in e&&"id"in e&&e.type in Et&&/^[a-f0-9]{8}-([a-f0-9]{4}-){3}[a-f0-9]{12}$/.test(e.id)}(t)){var a=function(n,a){Ct({id:t.id,error:n,result:a},e.source,e.origin)};if(Array.isArray(Et[t.type])&&Et[t.type].length)return Et[t.type].slice().reduce((function(e,n){return e.then((function(e){var a=n(t.value,e,Dt(t));return void 0===a?e:a}))}),Promise.resolve(!0)).then((function(e){a(null,e)})).catch((function(e){Object(r.a)(e,{feature:"native-ads"}),a(Ft(Rt,e),null)}));"function"==typeof Et[t.type]?Et[t.type](a,t.value,Dt(t)):a(Ft(Tt,t.type),null)}}},Gt=function(e,t,n){0===Mt&&function(e){e.addEventListener("message",zt)}(n&&n.window||window),n&&n.persist?(Et[e]=t,Mt+=1):(Et[e]=Et[e]||[],-1===Et[e].indexOf(t)&&(Et[e].push(t),Mt+=1))},Nt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===Et[e])throw new Error(Ft(Tt,e));if(void 0===t)Mt-=Et[e].length,Et[e].length=0;else if(Et[e]===t)Et[e]=null,Mt-=1;else{var a=Et[e].indexOf(t);a>-1&&(Mt-=1,Et[e].splice(a,1))}0===Mt&&function(e){e.removeEventListener("message",zt)}(n.window||window)},Ht=!(!document.documentElement||!document.documentElement.classList.contains("has-no-sticky")),qt=function e(t,n,a){ae.contains(a)&&(Nt("resize",e),ne.updatePosition())},Vt=function(e){var t=e.dataset.name;return"comments"===t||"right"===t},Ut=function(e){Vt(e)&&(ae=e);var t=document.querySelector(".js-comments");t&&e&&s.a.measure((function(){return t.offsetHeight-600})).then((function(t){return s.a.mutate((function(){e.parentNode.style.height="".concat(t,"px")}))})).then((function(){Ht&&((ne=new It.a(e)).init(),Gt("resize",qt)),y.a.emit("page:commercial:sticky-comments-mpu")}))};Ut.whenRendered=new Promise((function(e){y.a.on("page:commercial:sticky-comments-mpu",e)}));var $t=function(e){Vt(e)&&(ae=e);var t=document.querySelector(".js-article__body,.js-liveblog-body-content");t&&e&&!a.a.get("page.hasShowcaseMainElement")&&s.a.measure((function(){return t.offsetTop+300})).then((function(t){return s.a.mutate((function(){e.parentNode.style.height="".concat(t,"px")}))})).then((function(){if(Ht){var t=a.a.get("page.isPaidContent")?{top:43}:{};(ne=new It.a(e,t)).init(),Gt("resize",qt)}y.a.emit("page:commercial:sticky-mpu")}))};$t.whenRendered=new Promise((function(e){y.a.on("page:commercial:sticky-mpu",e)}));var Wt,Yt,Jt,Xt=n(207),Kt=n.n(Xt),Qt=n(424),Zt=n(249),en=function(e){(new Image).src=e},tn=function(e,t,n){var a=document.createRange();a.setStart(e,0),a.setEnd(e,0),e.appendChild(a.createContextualFragment(n.replace("INSERT_UNIQUE_ID",t)))},nn=n(456),an=n.n(nn),on=n(457),rn=n.n(on),sn=n(248),cn=n.n(sn),dn=n(245),ln=n.n(dn),un=function(){function e(t,n){x()(this,e),d()(this,"adSlot",void 0),d()(this,"params",void 0),this.adSlot=t,this.params=n}return A()(e,[{key:"create",value:function(){var e=this;this.params.externalLinkIcon=Object(Zt.a)(cn.a.markup,["frame__external-link-icon"]),this.params.target="yes"===this.params.newWindow?"_blank":"_self",this.params.id="frame-".concat(Math.floor(1e4*Math.random()).toString(16));var t=Kt()(an.a)({data:this.params}),n=Kt()(rn.a)({data:{buttonTitle:"Ad",infoTitle:"Advertising on the Guardian",infoText:"is created and paid for by third parties.",infoLinkText:"Learn more about how advertising supports the Guardian.",infoLinkUrl:"https://www.theguardian.com/advertising-on-the-guardian",icon:Object(Zt.a)(ln.a.markup,["gu-comlabel__icon"]),dataAttr:this.adSlot.id}});return s.a.mutate((function(){return e.adSlot.insertAdjacentHTML("beforeend",t),e.adSlot.lastElementChild&&e.adSlot.lastElementChild.insertAdjacentHTML("afterbegin",n),e.adSlot.classList.add("ad-slot--frame"),e.params.trackingPixel&&en(e.params.trackingPixel+e.params.cacheBuster),e.params.researchPixel&&en(e.params.researchPixel+e.params.cacheBuster),e.params.viewabilityTracker&&tn(e.adSlot,e.params.id,e.params.viewabilityTracker),new Qt.a(e.adSlot).init(),!0}))}}]),e}(),mn=n(49),pn=n.n(mn),gn=n(458),fn=n.n(gn),hn=n(459),bn=n.n(hn),vn=n(460),yn=n.n(vn),wn=!Object(w.l)(),kn="object"===pn()(w.f)&&"MSIE"===w.f.browser&&parseInt(w.f.version,10)<=10,_n=function(){function e(t,n){x()(this,e),d()(this,"adSlot",void 0),d()(this,"params",void 0),d()(this,"scrollingBg",void 0),d()(this,"layer2",void 0),d()(this,"scrollType",void 0),this.adSlot=t,this.params=n}return A()(e,[{key:"create",value:function(){var e=this;Wt||(Wt=Kt()(fn.a),Yt=Kt()(bn.a),Jt=Kt()(yn.a));var t={position:"left"===this.params.videoPositionH||"right"===this.params.videoPositionH?"".concat(this.params.videoPositionH,":").concat(this.params.videoHorizSpace,"px;"):""},n={id:"fabric-".concat(Math.trunc(1e4*Math.random()).toString(16)),showLabel:"hide"!==this.params.showAdLabel,video:this.params.videoURL?Yt(Object.assign({},this.params,t)):"",hasContainer:"layerTwoAnimation"in this.params,layerTwoBGPosition:!this.params.layerTwoBGPosition||this.params.layerTwoAnimation&&"disabled"!==this.params.layerTwoAnimation&&(Object(w.n)()||"enabled"!==this.params.layerTwoAnimation)?"0% 0%":this.params.layerTwoBGPosition,scrollbg:!(!this.params.backgroundImagePType||"none"===this.params.backgroundImagePType)&&Jt(this.params)};return n.scrollbg&&(s.a.measure(this.updateBgPosition,this),y.a.on("window:throttledScroll",this.updateBgPosition.bind(this)),y.a.on("window:throttledResize",this.updateBgPosition.bind(this))),this.params.trackingPixel&&en(this.params.trackingPixel+this.params.cacheBuster),this.params.researchPixel&&en(this.params.researchPixel+this.params.cacheBuster),s.a.mutate((function(){return e.adSlot.insertAdjacentHTML("beforeend",Wt({data:Object.assign({},e.params,n)})),e.scrollingBg=e.adSlot.querySelector(".ad-scrolling-bg"),e.layer2=e.adSlot.querySelector(".hide-until-tablet .fabric-v1_layer2"),e.scrollType=e.params.backgroundImagePType,"enabled"===e.params.layerTwoAnimation&&e.layer2&&Object(w.n)()&&!kn&&(e.layer2.style.backgroundPosition=""),"fixed"===e.scrollType&&e.scrollingBg&&wn&&(e.scrollingBg.style.backgroundAttachment="fixed"),e.adSlot.classList.add("ad-slot--fabric-v1"),e.adSlot.classList.add("ad-slot--fabric"),e.adSlot.classList.add("content__mobile-full-width"),e.adSlot.parentNode&&e.adSlot.parentNode instanceof HTMLElement&&e.adSlot.parentNode.classList.contains("top-banner-ad-container")&&e.adSlot.parentNode.classList.add("top-banner-ad-container--fabric"),e.params.viewabilityTracker&&tn(e.adSlot,e.params.id,e.params.viewabilityTracker),!0}))}},{key:"updateBgPosition",value:function(){var e=this;if("parallax"===this.scrollType){var t=Math.ceil(.3*this.adSlot.getBoundingClientRect().top)+20;s.a.mutate((function(){e.scrollingBg&&(e.scrollingBg.style.backgroundPosition="50% ".concat(t,"%"),e.scrollingBg.classList.add("ad-scrolling-bg-parallax"))}))}else if("fixed"===this.scrollType&&!wn){var n=this.adSlot.getBoundingClientRect(),a=(window.innerHeight-n.bottom+n.height/2)/window.innerHeight*100;s.a.mutate((function(){e.scrollingBg&&(e.scrollingBg.style.backgroundPosition="50% ".concat(a,"%"))}))}this.layer2Animation()}},{key:"layer2Animation",value:function(){var e,t=this;"enabled"===this.params.layerTwoAnimation&&Object(w.n)()&&!kn&&(e=Object(w.g)().height>this.adSlot.getBoundingClientRect().top,s.a.mutate((function(){t.layer2&&t.layer2.classList.add("ad-scrolling-text-hide".concat(t.params.layerTwoAnimationPosition?"-".concat(t.params.layerTwoAnimationPosition):"")),t.layer2&&e&&t.layer2.classList.add("ad-scrolling-text-animate".concat(t.params.layerTwoAnimationPosition?"-".concat(t.params.layerTwoAnimationPosition):""))})))}}]),e}(),jn=n(20),Pn=n.n(jn),On=n(461),Bn=n.n(On),xn=n(462),Cn=n.n(xn),An=n(219),Sn=n.n(An),In=n(66),Ln=n.n(In),En=n(463),Mn=n.n(En),Tn=function(){function e(t,n){x()(this,e),d()(this,"adSlot",void 0),d()(this,"params",void 0),d()(this,"isClosed",void 0),d()(this,"initialExpandCounter",void 0),d()(this,"closedHeight",void 0),d()(this,"openedHeight",void 0),d()(this,"$button",void 0),d()(this,"$ad",void 0),this.adSlot=t,this.params=n,this.isClosed=!0,this.initialExpandCounter=!1,this.closedHeight=250,this.openedHeight=500,Mn()(this,"updateBgPosition","listener")}return A()(e,[{key:"updateBgPosition",value:function(){var e,t=this,n=Object(w.g)().height,a=this.adSlot.getBoundingClientRect().top,i=this.isClosed?this.closedHeight:this.openedHeight,o="true"==(n>a&&.5*n<a?"true":"false")?50- -.2*(.5*n-a):50,r="true"==(2*-i<a+20&&.4*n-i>a?"true":"false")?.2*(.4*n-a-i):0;switch(this.params.backgroundImagePType){case"split":e=o+r,s.a.mutate((function(){Object(v.a)(".ad-exp--expand-scrolling-bg",t.adSlot).css({"background-repeat":"no-repeat","background-position":"50%".concat(e,"%")})}));break;case"fixed":e=-a,s.a.mutate((function(){Object(v.a)(".ad-exp--expand-scrolling-bg",t.adSlot).css("background-position","50%".concat(e,"px"))}));break;case"fixed matching fluid250":s.a.mutate((function(){Object(v.a)(".ad-exp--expand-scrolling-bg",t.adSlot).addClass("ad-exp--expand-scrolling-bg-fixed")}));break;case"parallax":e=Math.ceil(.3*a)+20,s.a.mutate((function(){Object(v.a)(".ad-exp--expand-scrolling-bg",t.adSlot).addClass("ad-exp--expand-scrolling-bg-parallax"),Object(v.a)(".ad-exp--expand-scrolling-bg",t.adSlot).css("background-position","50%".concat(e,"%"))}))}}},{key:"listener",value:function(){var e=this;if(!this.initialExpandCounter&&Object(w.g)().height>this.adSlot.getBoundingClientRect().top+this.openedHeight){var t=Object(v.a)(".ad-slot__content",this.adSlot).attr("id").split("/");return wt.a.get("gu.commercial.expandable.".concat(t[1]))?this.isClosed&&s.a.mutate((function(){Object(v.a)(".ad-exp__open-chevron").addClass("chevron-up")})):s.a.mutate((function(){wt.a.set("gu.commercial.expandable.".concat(t[1]),!0,{expires:Date.now()+6048e5}),e.$button.addClass("button-spin"),Object(v.a)(".ad-exp__open-chevron").removeClass("chevron-up").addClass("chevron-down"),e.$ad.css("height",e.openedHeight),e.isClosed=!1,e.initialExpandCounter=!0})),!0}}},{key:"buildVideo",value:function(e){var t=Object(w.m)({max:"phablet"})?125:250,n=t*(16/9),a="center"===this.params.videoPositionH?"margin-left: ".concat(n/-2,"px"):"",i="left"===this.params.videoPositionH?"left: ".concat(this.params.videoHorizSpace,"px"):"",o="right"===this.params.videoPositionH?"right: ".concat(this.params.videoHorizSpace,"px"):"",r={width:n,height:t,src:"".concat(this.params.videoURL,"?rel=0&amp;controls=0&amp;showinfo=0&amp;title=0&amp;byline=0&amp;portrait=0"),className:["expandable_video","expandable_video--horiz-pos-".concat(this.params.videoPositionH),e].join(" "),inlineStyle:[a,i,o].join("; ")};return Kt()(Cn.a)(r)}},{key:"stopVideo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(w.m)({min:"tablet"})?".js-fabric-video--desktop":".js-fabric-video--mobile",n=Object(v.a)(t,this.adSlot),a=n.attr("src");window.setTimeout((function(){n.attr("src","".concat(a,"&amp;autoplay=0"))}),e)}},{key:"create",value:function(){var t=this,n=""!==this.params.videoURL,a={videoDesktop:n?this.buildVideo("js-fabric-video--desktop"):""},i={videoMobile:n?this.buildVideo("js-fabric-video--mobile"):""},o={showArrow:"arrow-only"===this.params.showMoreType||"plus-and-arrow"===this.params.showMoreType?'<button class="ad-exp__open-chevron ad-exp__open">'.concat(Sn.a.markup,"</button>"):""},r={showPlus:"plus-only"===this.params.showMoreType||"plus-and-arrow"===this.params.showMoreType?'<button class="ad-exp__close-button ad-exp__open">'.concat(Ln.a.markup,"</button>"):""},c={scrollbg:"none"!==this.params.backgroundImagePType?'<div class="ad-exp--expand-scrolling-bg" style="background-image: url('.concat(this.params.backgroundImageP,"); background-position: ").concat(this.params.backgroundImagePPosition," ").concat("0%","; background-repeat: ").concat(this.params.backgroundImagePRepeat,';"></div>'):""};this.params.id="fabric-expanding-".concat(Math.floor(1e4*Math.random()).toString(16));var d=v.a.create(Kt()(Bn.a)({data:Object.assign(this.params,o,r,a,i,c)}));return y.a.on("window:throttledScroll",this.listener),Pn.a.on(this.adSlot,"click",".ad-exp__open",(function(){!t.isClosed&&n&&t.stopVideo(1e3),s.a.mutate((function(){Object(v.a)(".ad-exp__close-button").toggleClass("button-spin"),Object(v.a)(".ad-exp__open-chevron").removeClass("chevron-up").toggleClass("chevron-down"),t.$ad.css("height",t.isClosed?t.openedHeight:t.closedHeight),t.isClosed=!t.isClosed,t.initialExpandCounter=!0}))})),e.hasScrollEnabled&&(this.updateBgPosition(),y.a.on("window:throttledScroll",this.updateBgPosition),y.a.on("window:throttledResize",this.updateBgPosition)),s.a.mutate((function(){return this.$ad=Object(v.a)(".ad-exp--expand",d).css("height",this.closedHeight),this.$button=Object(v.a)(".ad-exp__open",d),Object(v.a)(".ad-exp-collapse__slide",d).css("height",this.closedHeight),this.params.trackingPixel&&en(this.params.trackingPixel+this.params.cacheBuster),this.params.researchPixel&&en(this.params.researchPixel+this.params.cacheBuster),d.appendTo(this.adSlot),this.params.viewabilityTracker&&tn(this.adSlot,this.params.id,this.params.viewabilityTracker),this.adSlot.classList.add("ad-slot--fabric"),this.adSlot.parentNode.classList.contains("top-banner-ad-container")&&this.adSlot.parentNode.classList.add("top-banner-ad-container--fabric"),!0}),this)}}]),e}();d()(Tn,"hasScrollEnabled",void 0),Tn.hasScrollEnabled=!Object(w.p)()&&!Object(w.l)();var Rn=n(479),Dn=n.n(Rn),Fn=n(480),zn=n.n(Fn),Gn=n(157),Nn=n(481),Hn=n.n(Nn),qn=n(482),Vn=n.n(qn),Un=function(){function e(t,n){x()(this,e),d()(this,"isUpdating",void 0),d()(this,"adSlot",void 0),d()(this,"params",void 0),d()(this,"layer2",void 0),d()(this,"video",void 0),d()(this,"hasVideo",void 0),d()(this,"inView",void 0);var a=Object(w.m)({max:"phablet"});this.isUpdating=!1,this.hasVideo=!(Object(w.p)()||Object(w.l)()||a),this.inView=!1,this.adSlot=t,this.params=n,this.params.id="fabric-video-".concat(Math.floor(1e4*Math.random()).toString(16)),a?this.params.posterMobile='<div class="creative__poster" style="background-image:url('.concat(this.params.Videobackupimage,')"></div>'):(this.hasVideo&&(this.params.video='<video muted class="creative__video creative__video--'.concat(this.params.Videoalignment,'"><source src="').concat(this.params.VideoURL,'" type="video/mp4"></video>')),this.params.posterTablet='<div class="creative__poster" style="background-image:url('.concat(this.params.BackgroundImagemobile,')"></div>'))}return A()(e,[{key:"onVideoEnded",value:function(){this.video&&(this.video.onended=null,this.video=null)}},{key:"onScroll",value:function(){var e=Object(w.g)().height,t=this.adSlot.getBoundingClientRect();this.inView=t.top>=0&&t.bottom<e,this.isUpdating||(this.isUpdating=!0,s.a.mutate(this.updateView,this))}},{key:"updateView",value:function(){this.isUpdating=!1,this.video&&this.updateVideo(),this.updateAnimation()}},{key:"updateVideo",value:function(){this.video&&(this.inView?this.video.play():this.video.pause())}},{key:"updateAnimation",value:function(){this.inView?this.playAnimation():this.pauseAnimation()}},{key:"playAnimation",value:function(){this.layer2&&this.layer2.forEach((function(e){e.classList.add("is-animating")}))}},{key:"pauseAnimation",value:function(){this.layer2&&this.layer2.forEach((function(e){e.classList.remove("is-animating")}))}},{key:"create",value:function(){var e=this,t=Kt()(Hn.a);return s.a.mutate((function(){e.params.Trackingpixel&&en(e.params.Trackingpixel+e.params.cacheBuster),e.params.Researchpixel&&en(e.params.Researchpixel+e.params.cacheBuster),e.adSlot.insertAdjacentHTML("beforeend",t({data:e.params})),e.params.viewabilityTracker&&tn(e.adSlot,e.params.id,e.params.viewabilityTracker),e.adSlot&&e.adSlot.classList.add("ad-slot--fabric"),e.adSlot.parentNode&&e.adSlot.parentNode instanceof Element&&e.adSlot.parentNode.classList.contains("top-banner-ad-container")&&e.adSlot.parentNode.classList.add("top-banner-ad-container--fabric"),Vn()(e.adSlot.querySelector("video"))})).then((function(){e.layer2=ct()(".creative__layer2",e.adSlot);var t=e.onScroll.bind(e);return Object(Gn.a)(window,"scroll",t,{passive:!0}),Object(Gn.a)(e.adSlot,"animationend",(function(){window.removeEventListener("scroll",t)})),e.hasVideo&&(e.video=e.adSlot.getElementsByTagName("video")[0],e.video.onended=e.onVideoEnded),s.a.measure(e.onScroll,e),!0}))}}]),e}(),$n=!Object(w.l)(),Wn={frame:un,"fabric-v1":_n,"fabric-expanding-v1":Tn,"fabric-expandable-video-v2":function(e,t){var n=!0,a=Kt()(zn.a);return Object.freeze({create:function(){var i=t.showCrossInContainer.substring(3),o={id:"fabric-expandable-".concat(Math.round(1e4*Math.random()).toString(16)),desktopCTA:t.ctaDesktopImage?a({media:"hide-until-tablet",link:t.link,image:t.ctaDesktopImage,position:t.ctaDesktopPosition}):"",mobileCTA:t.ctaMobileImage?a({media:"mobile-only",link:t.link,image:t.ctaMobileImage,position:t.ctaMobilePosition}):"",showArrow:"arrow-only"===t.showMoreType||"plus-and-arrow"===t.showMoreType?'<button class="ad-exp__open-chevron ad-exp__open">'.concat(Sn.a.markup,"</button>"):"",showPlus:"plus-only"===t.showMoreType||"plus-and-arrow"===t.showMoreType?'<button class="ad-exp__close-button ad-exp__open ad-exp__open--'.concat(i,'">').concat(Ln.a.markup,"</button>"):"",videoEmbed:""!==t.YoutubeVideoURL?'<iframe id="YTPlayer" width="100%" height="'.concat(500,'" src="').concat(t.YoutubeVideoURL,'?showinfo=0&amp;rel=0&amp;controls=0&amp;fs=0&amp;title=0&amp;byline=0&amp;portrait=0" frameborder="0" class="expandable-video"></iframe>'):""},r=v.a.create(Kt()(Dn.a)({data:Object.assign(t,o)})),c=Object(v.a)(".ad-exp--expand",r),d=function(t){var a=Object(v.a)("#YTPlayer").attr("src"),i=a;i=-1===a.indexOf("autoplay")?"".concat(a,"&amp;autoplay=1"):i.replace(t?"autoplay=0":"autoplay=1",t?"autoplay=1":"autoplay=0"),t?(Object(v.a)(".ad-exp__close-button",e).addClass("button-spin"),Object(v.a)(".ad-exp__open-chevron",e).addClass("chevron-down"),c.css("height",500),r.addClass("creative--open"),Object(v.a)(".slide-video, .slide-video .ad-exp__layer",e).css("height",500).addClass("slide-video__expand")):(Object(v.a)(".ad-exp__close-button",e).removeClass("button-spin"),Object(v.a)(".ad-exp__open-chevron",e).removeClass("chevron-down"),c.css("height",250),r.removeClass("creative--open"),Object(v.a)(".slide-video, .slide-video .ad-exp__layer",e).css("height",250).removeClass("slide-video__expand")),n=!t,setTimeout((function(){Object(v.a)("#YTPlayer").attr("src",i)}),1e3)};return Pn.a.on(e,"click",".ad-exp__open",(function(){s.a.mutate((function(){d(n)}))})),Pn.a.on(e,"click",".video-container__cta, .creative__cta",(function(){s.a.mutate((function(){d(!1)}))})),s.a.mutate((function(){return c.css("height",250),Object(v.a)(".ad-exp-collapse__slide",r).css("height",250),t.trackingPixel&&en(t.trackingPixel+t.cacheBuster),t.researchPixel&&en(t.researchPixel+t.cacheBuster),r.appendTo(e),t.viewabilityTracker&&tn(e,t.id,t.viewabilityTracker),e.classList.add("ad-slot--fabric"),e.parentNode&&e.parentNode.classList.contains("top-banner-ad-container")&&e.parentNode.classList.add("top-banner-ad-container--fabric"),!0}))}})},"fabric-video":Un,"scrollable-mpu-v2":function(){function e(t,n){x()(this,e),d()(this,"adSlot",void 0),d()(this,"params",void 0),d()(this,"$scrollableImage",void 0),d()(this,"$scrollableMpu",void 0),this.adSlot=t,this.params=n,this.$scrollableImage=null,this.$scrollableMpu=null}return A()(e,[{key:"updateBgFluid250",value:function(){var e=this;jt.a.mutate((function(){e.$scrollableImage&&e.$scrollableImage.addClass("creative--scrollable-mpu-image-fixed")}))}},{key:"updateBgParallax",value:function(){var e=this,t=Math.ceil(.3*this.adSlot.getBoundingClientRect().top)+20;jt.a.mutate((function(){e.$scrollableImage&&e.$scrollableImage.addClass("creative--scrollable-mpu-image-parallax").css("background-position","50% ".concat(t,"%"))}))}},{key:"updateBg",value:function(){var e=this;if(this.$scrollableMpu){var t=-this.$scrollableMpu[0].getBoundingClientRect().top;jt.a.mutate((function(){e.$scrollableImage&&e.$scrollableImage.css("background-position","100% ".concat(t,"px"))}))}}},{key:"create",value:function(){var e,t,n=this,a={id:"scrollable-mpu-".concat(Math.floor(1e4*Math.random()).toString(16)),clickMacro:this.params.clickMacro,destination:this.params.destination,layer1Image:$n?this.params.layer1Image:this.params.mobileImage,backgroundImage:$n&&this.params.backgroundImage?'<div class="creative--scrollable-mpu-image" style="background-image: url('.concat(this.params.backgroundImage,');"></div>'):""};return this.$scrollableMpu=v.a.create((e=a,'\n<a id="'.concat(e.id,'" class="creative--scrollable-mpu"\n    href="').concat(e.clickMacro).concat(e.destination,'"\n    target="_new">\n    <div class="creative--scrollable-mpu-inner">\n        ').concat(e.backgroundImage,'\n        <div class="creative--scrollable-mpu-static-image" style="background-image: url(\'').concat(e.layer1Image,"');\"></div>\n    </div>\n</a>\n"))).appendTo(this.adSlot),this.params.trackingPixel&&en(this.params.trackingPixel+this.params.cacheBuster),this.params.researchPixel&&en(this.params.researchPixel+this.params.cacheBuster),this.params.viewabilityTracker&&tn(this.adSlot,this.params.id,this.params.viewabilityTracker),$n&&(t="fixed matching fluid250"===this.params.backgroundImagePType?function(){return n.updateBgFluid250()}:"parallax"===this.params.backgroundImagePType?function(){return n.updateBgParallax()}:function(){return n.updateBg()},this.$scrollableImage=Object(v.a)(".creative--scrollable-mpu-image",this.adSlot),jt.a.measure(t),y.a.on("window:throttledScroll",t),y.a.on("window:throttledResize",t)),Promise.resolve(!0)}}]),e}()},Yn=n(220),Jn=n.n(Yn),Xn=n(408),Kn=function(e){return function(t){return function(n,i){return t.some((function(e){return i.node.classList.contains(e)}))?s.a.mutate((function(){e.forEach((function(e){i.node.classList.add(e)})),a.a.get("isDotcomRendering",!1)&&e.includes("ad-slot--fluid")&&(i.node.style.minHeight="250px",i.node.style.lineHeight="10px",i.node.style.padding="0",i.node.style.margin="0",e.includes("ad-slot--im")||e.includes("ad-slot--carrot")||e.includes("ad-slot--offset-right")||(i.node.style.width="100%"))})):Promise.resolve()}}},Qn=Kn(["ad-slot--fluid250"]),Zn=Kn(["ad-slot--fluid"]),ea={};ea[u.fluid]=function(e,t){return Zn(["ad-slot"])(e,t).then((function(){return function(e,t){var n=e.node.querySelector("iframe");s.a.mutate((function(){n&&n.style.removeProperty("vertical-align")}))}(t)}))},ea[u.mpu]=function(e,t){return s.a.measure((function(){return t.node.classList.contains("js-sticky-mpu")&&(t.node.classList.contains("ad-slot--right")&&$t(t.node),t.node.classList.contains("ad-slot--comments")&&Ut(t.node)),s.a.mutate((function(){return t.updateExtraSlotClasses()}))}))},ea[u.halfPage]=function(e,t){return s.a.measure((function(){return t.node.classList.contains("ad-slot--right")&&$t(t.node),t.node.classList.contains("ad-slot--comments")&&Ut(t.node),s.a.mutate((function(){return t.updateExtraSlotClasses()}))}))},ea[u.skyscraper]=function(e,t){return s.a.measure((function(){return t.node.classList.contains("ad-slot--right")&&$t(t.node),t.node.classList.contains("ad-slot--comments")&&Ut(t.node),s.a.mutate((function(){return t.updateExtraSlotClasses("ad-slot--sky")}))}))},ea[u.video]=function(e,t){return s.a.mutate((function(){t.updateExtraSlotClasses("u-h")}))},ea[u.outstreamDesktop]=function(e,t){return s.a.mutate((function(){t.updateExtraSlotClasses("ad-slot--outstream")}))},ea[u.outstreamGoogleDesktop]=function(e,t){return s.a.mutate((function(){t.updateExtraSlotClasses("ad-slot--outstream")}))},ea[u.outstreamMobile]=function(e,t){return s.a.mutate((function(){t.updateExtraSlotClasses("ad-slot--outstream")}))},ea[u.googleCard]=function(e,t){return s.a.mutate((function(){t.updateExtraSlotClasses("ad-slot--gc")}))};var ta=function(e,t){if(!e.slot.getOutOfPage()){var n=t.node.parentNode;return s.a.mutate((function(){t.node.classList.add("u-h"),n.classList.contains("fc-slice__item--mpu-candidate")&&n.classList.add("fc-slice__item--no-mpu")}))}return Promise.resolve()};ea[u.outOfPage]=ta,ea[u.empty]=ta,ea[u.portrait]=function(){return Xn.a.whenRendered.then((function(e){return s.a.mutate((function(){e&&e.elem&&(e.elem.remove(),e.elem=null)}))}))},ea[u.merchandising]=Qn(["ad-slot--commercial-component"]);var na,aa,ia=function(e,t){var n,a;return n=e.node,(a=ct()("> div:not(.ad-slot__label)",n)).length&&s.a.mutate((function(){a[0].classList.add("ad-slot__content")})),function(e){return function(e){return new Promise((function(t,n){var a=e.querySelector('iframe:not([id*="__hidden__"])');a?a.readyState&&"complete"!==a.readyState?a.addEventListener("readystatechange",(function e(n){var i=n.srcElement;i&&"complete"===i.readyState&&(i.removeEventListener("readystatechange",e),t(a))})):t(a):n()}))}(e).then((function(t){return function(e,t){var n=function(){try{var e=t.contentDocument.body?t.contentDocument.body.querySelector('.breakout__script[type="application/json"]'):null;return e?e.innerHTML:null}catch(e){return null}}();return n?s.a.mutate((function(){t.style.display="none"})).then((function(){return JSON.parse(n)})).then((function(e){var n=t.contentDocument.getElementById("viewabilityTracker"),a=n?n.childNodes[0].nodeValue.trim():null;return a&&e.params&&(e.params.viewabilityTracker=a),e})).then((function(t){return new Promise((function(n){n(new(0,Wn[t.name])(e,t.params,t.opts).create())}))})).catch((function(e){return Object(r.a)(Error("Failed to get creative JSON ".concat(e)),{feature:"commercial"},!1),Promise.resolve(!0)})):Promise.resolve(!0)}(e,t)}))}(e.node).then((function(n){return function(){if(e.size){var n=e.size.toString();return"0,0"===n&&(n="fluid"),e.hasPrebidSize=!1,Promise.resolve(ea[n]?ea[n](t,e):s.a.mutate((function(){e.updateExtraSlotClasses()})))}return Promise.resolve(null)}().then((function(){return t=e.node,s.a.measure((function(){if(function(e){return!(e.classList.contains("ad-slot--fluid")||e.classList.contains("ad-slot--frame")||e.classList.contains("ad-slot--gc")||"false"===e.getAttribute("data-label")||e.getElementsByClassName("ad-slot__label").length)}(t))return s.a.mutate((function(){t.prepend(function(){var e,t=document.createElement("div");return t.className="ad-slot__label",t.innerHTML="Advertisement",t.appendChild(((e=document.createElement("button")).className="ad-slot__close-button",e.innerHTML=Jn.a.markup,e.onclick=function(){var e=this.closest(".mobilesticky-container");e&&e.remove()},e)),t}())}))}));var t})).then((function(){return n?s.a.mutate((function(){e.node.classList.add("ad-slot--rendered")})):Promise.resolve()})).then((function(){return n}))})).catch((function(e){return Object(r.a)(e,{feature:"commercial"},!1),Promise.resolve(!1)}))},oa=T()((function(){Object(o.c)("Commercial: First Ad Rendered"),(new Image).src=a.a.get("page.beaconUrl")+"/count/ad-render.gif"})),ra=[u.outstreamDesktop.toString(),u.outstreamMobile.toString(),u.outstreamGoogleDesktop.toString()],sa=function(e){oa();var t=Be(e.slot.getSlotElementId());if(t){var n=function(n){t.stopRendering(n),y.a.emit("modules:commercial:dfp:rendered",e)};if(t.stopLoading(!0),t.startRendering(),t.isEmpty=e.isEmpty,e.isEmpty)(function(e){jt.a.mutate((function(){window.googletag.destroySlots([e.slot]),e.node.remove(),function(e){var t=function(t){return t.filter((function(t){return t!==e}))};j.adverts=t(j.adverts),j.advertsToRefresh=t(j.advertsToRefresh),j.advertsToLoad=t(j.advertsToLoad),j.advertIds={},j.adverts.forEach((function(e,t){j.advertIds[e.id]=t}))}(e)}))})(t),function(e,t){if(Math.random()<1e-4){var n=t.slot.getAdUnitPath(),a=t.slot.getTargetingKeys().includes("k")?t.slot.getTargeting("k"):[],i=a?a.join(", "):"";Object(r.a)(new Error("dfp returned an empty ad response"),{feature:"commercial",adUnit:n,adSlot:e,adKeywords:i},!1)}}(t.id,e),n(!1);else{t.hasPrebidSize||(t.size=e.size),void 0!==e.creativeId&&j.creativeIDs.push(e.creativeId);var i=t.size&&t.size.toString(),o="0,0"!==i,s=ra.includes(i),c=e.lineItemId&&a.a.get("page.dfpNonRefreshableLineItemIds",[]).includes(e.lineItemId);t.shouldRefresh=o&&!s&&!a.a.get("page.hasPageSkin")&&!c,ia(t,e).then(n)}}},ca=function(e){var t=Be(e.slot.getSlotElementId());if(t&&t.shouldRefresh){var n=function e(){document.hidden||(document.removeEventListener("visibilitychange",e),qe(t))};setTimeout((function(){t.shouldRefresh&&(document.hidden?document.addEventListener("visibilitychange",n):qe(t))}),3e4)}},da=function(e){if(wt.b.isAvailable()){var t=Be(e.slot.getSlotElementId());if(t&&t.maxViewPercentage<e.inViewPercentage){if(t.maxViewPercentage<=90&&e.inViewPercentage>90){var n=wt.b.get("gu.commercial.slotVisibility")||0;wt.b.set("gu.commercial.slotVisibility",n+1)}t.maxViewPercentage=e.inViewPercentage}}},la=Object(w.h)(!0),ua=w.c.map((function(e){return e.name})),ma=function(e,t){var n=function(e,t){var n=ua.slice(0,ua.indexOf(e)+1).map(F);return Math.max.apply(Math,O()(t.map((function(e){return n.lastIndexOf(e)}))))};j.advertsToRefresh.filter((function(a){var i=Object.keys(a.sizes),o=n(e,i),r=n(t,i);return-1!==o&&o!==r})).forEach(ze)},pa=function(){la(ma)},ga=function(){y.a.on("window:throttledResize",pa)},fa=function(e,t){if(!(e&&"backgroundImage"in e&&"backgroundRepeat"in e&&"backgroundPosition"in e&&"scrollType"in e&&t instanceof Element))return Promise.resolve();var n=function(e){return Object.keys(e).reduce((function(t,n){return"scrollType"!==n&&(t[n]=e[n]),"backgroundColour"===n&&(t.backgroundColor=e[n]),t}),{})}(e),i="interscroller"===e.scrollType?"creative__background-parent-interscroller":"creative__background-parent",o=t.getElementsByClassName(i)[0],r=o?o.getElementsByClassName("creative__background")[0]:null,c=!(!o||!r),d=function(e,t){s.a.measure((function(){var e=t.getBoundingClientRect(),n=e.height,a=window.innerHeight,i=Math.floor(e.bottom/(a+n)*130);t.style.backgroundPositionY="".concat(i,"%")}))},l=new IntersectionObserver((function(e){e.filter((function(e){return e.isIntersecting})).forEach((function(e){if(!c){var t=e.target.firstChild;t&&t instanceof HTMLElement&&(Object(Gn.a)(window,"scroll",(function(){return d(0,t)}),{passive:!0}),d(0,t))}}))}),{rootMargin:"10px"});return function(){if(r&&o&&c)return Promise.resolve({backgroundParent:o,background:r});var n=document.createElement("div"),i=document.createElement("div");return n.appendChild(i),a.a.get("isDotcomRendering",!1)&&(n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.right="0",n.style.bottom="0",n.style.clip="rect(0, auto, auto, 0)",i.style.top="0",i.style.left="0",i.style.right="0",i.style.bottom="0",i.style.transition="background 100ms ease"),s.a.mutate((function(){if(n)if(a.a.get("isDotcomRendering",!1)&&t.firstChild&&t.firstChild instanceof HTMLElement&&(t.firstChild.style.contain="layout"),"interscroller"===e.scrollType){if(t.style.height="85vh",t.style.marginBottom="12px",null!=e.ctaUrl){var o=document.createElement("a");o.href=e.ctaUrl,o.target="_new",o.appendChild(n),t.insertBefore(o,t.firstChild)}if(a.a.get("isDotcomRendering",!1)){i.style.position="fixed";var r=document.createElement("div");r.classList.add("ad-slot__line"),r.style.position="absolute",r.style.width="100%",r.style.bottom="0",r.style.borderBottom="1px solid #dcdcdc",n.appendChild(r)}}else t.insertBefore(n,t.firstChild)})).then((function(){return{backgroundParent:n,background:i}}))}().then((function(o){return function(o,r){return o.className=i,r.className="".concat("creative__background"," creative__background--").concat(e.scrollType),a.a.get("isDotcomRendering",!1)&&"parallax"===e.scrollType&&(r.style.position="absolute"),Object.assign(r.style,n),"fixed"===e.scrollType?s.a.measure((function(){if(t instanceof Element)return t.getBoundingClientRect()})).then((function(e){return s.a.mutate((function(){a.a.get("isDotcomRendering",!1)&&(r.style.position="fixed"),n.backgroundColor&&(o.style.backgroundColor=n.backgroundColor),e&&(r.style.left="".concat(e.left,"px"),r.style.right="".concat(e.right,"px"),r.style.width="".concat(e.width,"px"))}))})).then((function(){return{backgroundParent:o,background:r}})):Promise.resolve({backgroundParent:o,background:r})}(o.backgroundParent,o.background)})).then((function(n){var a,i=n.backgroundParent,o=n.background;"interscroller"===e.scrollType?(a=i,s.a.mutate((function(){var e=document.createElement("div");e.classList.add("ad-slot__label"),e.classList.add("sticky"),e.innerHTML="Advertisement",a.appendChild(e)})),function(e){s.a.mutate((function(){var t=document.createElement("div");t.classList.add("ad-slot__scroll"),t.innerHTML="Scroll for More",t.onclick=function(t){e.scrollIntoView({behavior:"smooth",block:"start"}),t.preventDefault()},e.appendChild(t)}))}(i),Object(Gn.a)(window,"scroll",(function(){return function(e,n){s.a.measure((function(){var e=t.getBoundingClientRect();n.style.clip="rect(".concat(e.top,"px,100vw,").concat(e.bottom,"px,0)")}))}(0,o)}),{passive:!0})):l.observe(i)}))},ha=n(83),ba=function(e,t){Object(ha.b)(e.id,t)},va=function(e){var t=String(e).match(/^(\d+)(%|px|em|ex|ch|rem|vh|vw|vmin|vmax)?/);return t?t[1]+(void 0===t[2]?"px":t[2]):""},ya=window,wa="IntersectionObserver"in ya,ka=!1,_a={},ja=0,Pa=function(e,t){var n;_a[e].respond(null,{width:(n=t).width,height:n.height,top:n.top,bottom:n.bottom,left:n.left,right:n.right})},Oa=function(e){return[e,_a[e].node.getBoundingClientRect()]},Ba=function(e){return e[1].bottom>0&&e[1].top<this.height},xa=function(e){aa=e.filter((function(e){return e.intersectionRatio>0})).map((function(e){return e.target.id}))},Ca=function(){if(!ka){var e=Object(w.g)();return ka=!0,s.a.measure((function(){ka=!1;var t=Object.keys(_a);wa?aa.map(Oa).forEach((function(e){Pa(e[0],e[1])})):t.map(Oa).filter(Ba,e).forEach((function(e){Pa(e[0],e[1])}))}))}},Aa=function(e,t,n){n&&(t?function(e,t){0===ja&&(Object(Gn.a)(ya,"scroll",Ca,{passive:!0}),wa&&(na=new ya.IntersectionObserver(xa))),_a[e.id]={node:e,visible:!wa,respond:t},ja+=1,wa&&na&&na.observe(e),s.a.measure((function(){return e.getBoundingClientRect()})).then((function(t){Pa(e.id,t)}))}(n,e):function(e){_a[e.id]&&(wa&&na&&na.unobserve(e),_a[e.id]=!1,ja-=1),0===ja&&(ya.removeEventListener("scroll",Ca),wa&&na&&(na.disconnect(),na=null))}(n))},Sa=window,Ia={},La=0,Ea=!1,Ma=function(){return s.a.measure((function(){return Object(w.g)()}))},Ta=function(e,t){Ia[e]&&Ia[e].respond&&Ia[e].respond(null,t)},Ra=function(){if(!Ea)return Ea=!0,Ma().then((function(e){Object.keys(Ia).forEach((function(t){Ta(t,e)})),Ea=!1}))},Da=function(e,t,n){n&&(t?function(e,t){0===La&&Sa.addEventListener("resize",Ra),Ia[e.id]={node:e,respond:t},La+=1,Ma().then((function(t){Ta(e.id,t)}))}(n,e):function(e){Ia[e.id]&&(Ia[e.id]=!1,La-=1),0===La&&Sa.removeEventListener("resize",Ra)}(n))};!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return e(Gt)}))}((function(e){e("type",(function(e,t,n){return a=e,i=n&&n.closest(".js-ad-slot"),s.a.mutate((function(){i.classList.add("ad-slot--".concat(a||""))}));var a,i}))}),(function(e){e("get-styles",(function(e){if(e)return function(e,t){if(!e||"string"!=typeof e.selector)return null;for(var n=[],a=0;a<t.length;a+=1){var i=t[a],o=i.ownerNode;o&&o.matches&&o.matches(e.selector)&&("STYLE"===o.tagName?n.push(o.textContent):n.push(Array.prototype.reduce.call(i.cssRules||[],(function(e,t){return e+t.cssText}),"")))}return n}(e,document.styleSheets)}))}),(function(e){e("get-page-targeting",(function(){return a.a.get("page.sharedAdTargeting")}))}),(function(e){e("resize",(function(e,t,n){if(n&&e){var a=n&&n.closest(".js-ad-slot");!function(e){s.a.mutate((function(){e&&e.classList.remove("ad-slot--outstream")}))}(a);var i=n&&n.closest(".ad-slot__content");return function(e,t,n,a){if(!(e&&("height"in e||"width"in e)&&t&&a))return null;var i={};return e.width&&!function(e){return!!e&&e.classList.contains("ad-slot--liveblog-inline")}(a)&&(i.width=va(e.width)),e.height&&(i.height=va(e.height)),s.a.mutate((function(){Object.assign(t.style,i),n&&Object.assign(n.style,i)}))}(e,n,i,a)}}))}),(function(e){e("hide",(function(e,t,n){if(n){var a=n.closest(".js-ad-slot");if(a)return i=a,s.a.mutate((function(){return i.classList.add("u-h")}))}var i}))}),(function(e){e("scroll",Aa,{persist:!0})}),(function(e){e("viewport",Da,{persist:!0})}),(function(e){e("click",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ba(n.closest(".js-ad-slot")||{id:"unknown"},e||"")}))}),(function(e){e("background",(function(e,t,n){return n&&e?fa(e,n.closest(".js-ad-slot")):Promise.resolve()}))}),(function(e){e("disable-refresh",(function(e,t,n){if(n){var a=n.closest(".js-ad-slot");if(a instanceof HTMLElement){var i=function(e){return j.adverts.find((function(t){return t.node.isSameNode(e)}))}(a);i&&(i.shouldRefresh=!1)}}}))}));var Fa,za,Ga,Na,Ha,qa,Va,Ua,$a,Wa=function(){var e=window.googletag.pubads();if(e.addEventListener("slotRenderEnded",bt.a.wrap(sa)),e.addEventListener("slotOnload",bt.a.wrap(St)),e.addEventListener("impressionViewable","false"!==Object(_.d)().adrefresh?ca:function(){}),e.addEventListener("slotVisibilityChanged",da),wt.b.isAvailable()){var t=wt.b.get("gu.commercial.pageViews")||0;wt.b.set("gu.commercial.pageViews",t+1)}},Ya=function(){var e=window.googletag.pubads(),t=Object(V.c)();Object.keys(t).forEach((function(n){e.setTargeting(n,t[n])}))},Ja=function(){var e=ct()(j.adSlotSelector);return s.a.mutate((function(){return e.forEach((function(e){return e.remove()}))}))},Xa=function(){var e=Object(Bt.h)();if(e){var t=yt.hash(e.id);window.googletag.pubads().setPublisherProvidedId(t)}},Ka=function(){return f.a.dfpAdvertising?((window.googletag.cmd.push(Wa,Ya,Xa,ga,(function(){Ot()})),Object(Le.c)((function(e){var t,n=!0;e.ccpa?window.googletag.cmd.push((function(){window.googletag.pubads().setPrivacySettings({restrictDataProcessing:e.ccpa.doNotSell})})):(e.tcfv2&&(t=0===Object.keys(e.tcfv2.consents).length||Object.values(e.tcfv2.consents).includes(!1),n=Object(Le.b)("googletag",e)),window.googletag.cmd.push((function(){window.googletag.pubads().setRequestNonPersonalizedAds(t?1:0)}))),n&&Object(ft.a)(a.a.get("libs.googletag","//www.googletagservices.com/tag/js/gpt.js"),{async:!1})})),Promise.resolve()).then(gt).catch(Ja),Promise.resolve()):Ja()},Qa=function(e){return""===e||null==e||Array.isArray(e)&&0===e.length||"object"===pn()(e)&&0===Object.keys(e).length},Za=function e(t){return Object.keys(t).forEach((function(n){"object"===pn()(t[n])&&null!==t[n]&&e(t[n]),Qa(t[n])&&delete t[n]})),t},ei=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:{},user:{}},t=e.page,n=e.user,a=t.isPaidContent,i=t.pageId,o=t.headline,r=t.contentType,s=t.section,c=t.author,d=t.keywords,l=t.webPublicationDate,u=t.series,m=t.edition,p=t.toneIds,g=(c&&"string"==typeof c?c.split(","):[]).map((function(e){return e.trim()})),f=(d&&"string"==typeof d?d.split(","):[]).map((function(e){return e.trim()})),h=l&&"number"==typeof l?new Date(l).toISOString():"",b=(p&&"string"==typeof p?p.split(","):[]).map((function(e){return e.trim()}));return Za({content:{premium:a,id:i,title:o,type:r,section:s,authors:g,keywords:f,publishedAt:h,series:u,tone:b},user:{edition:m,identity:!Qa(n)&&!Qa(n.id)}})},ti=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"object"===pn()(e.ophan)&&"string"==typeof e.ophan.browserId&&e.ophan.browserId.length>0?[{tag:"ophan",id:e.ophan.browserId}]:[]},ni=!1,ai=T()((function(){if(f.a.isSecureContact)return Promise.resolve();var e=Promise.resolve();return(J.o||j.hbImpl.a9&&f.a.dfpAdvertising&&!f.a.adFree&&!a.a.get("page.hasPageSkin")&&!Object(w.o)())&&(e=n.e(42).then(n.t.bind(null,577,7)).then((function(){return Object(Le.c)((function(e){var t=Object(Le.b)("a9",e);!Me&&t&&(Me=!0,window.apstag.init({pubID:a.a.get("page.a9PublisherId"),adServer:"googletag",bidTimeout:1500}))})),Promise.resolve()}))),e})),ii=0,oi=function(e,t){var n,a=!!t;return{bodySelector:".js-liveblog-body",slotSelector:" > .block",fromBottom:a,startAt:a?za:null,absoluteMinAbove:a?0:1.5*Fa,minAbove:0,minBelow:0,clearContentMeta:0,selectors:{},filter:function(t){return n?Math.abs(t.top-n.top)>2*e&&(n=t,!0):(n=t,!a)}}},ri=function(e){for(var t="mobile"===Object(w.d)(),n=function(n){var a=function(e,t){return e&&0===t?"top-above-nav":"inline".concat(e?t:t+1)}(t,ii),i=g("inline",{name:a,classes:"liveblog-inline"});i.forEach((function(t){e[n]&&e[n].parentNode&&e[n].parentNode.insertBefore(t,e[n].nextSibling)})),e[n]&&e[n].parentNode&&(Ve(i[0],!1),ii+=1)},a=0;a<e.length&&ii<8;a+=1)n(a)},si=function(e){return k.a.fillSpace(e,ri).then((function(t){if(t&&ii<8){var n=document.querySelector("".concat(e.bodySelector," > .ad-slot"));za=n&&n.previousSibling instanceof HTMLElement?n.previousSibling:null,y.a.on("modules:autoupdate:updates",ci)}else za=null}))},ci=function(){y.a.off("modules:autoupdate:updates",ci),Promise.resolve(oi(Fa,!0)).then(si)},di="dfp-ad--top-above-nav",li=!1,ui=function(e){return qa===e?Promise.resolve(-1):s.a.mutate((function(){if(Ua&&Ga){var t="".concat(e,"px");Ua.classList.add("sticky-top-banner-ad"),Ua.style.height=t,Ga.style.marginTop=t}return void 0!==qa&&Na<=$a&&window.scrollBy(0,e-qa),qa=e,e}))},mi=function(){return s.a.mutate((function(){Ua&&Ga&&($a<=Na?(Ga.classList.add("l-header--animate"),Ua.classList.add("sticky-top-banner-ad--animate")):(Ga.classList.remove("l-header--animate"),Ua.classList.remove("sticky-top-banner-ad--animate")))}))},pi=function(){return $a=window.pageYOffset,li?Promise.resolve():(li=!0,s.a.mutate((function(){li=!1,Ua&&(Na<$a?(Ua.style.position="absolute",Ua.style.top="".concat(Na,"px")):(Ua.style.position="",Ua.style.top=""))})).then(mi))},gi=function(e){return s.a.measure((function(){return Va=Va||window.getComputedStyle(Ha),e+parseInt(Va.paddingTop,10)+parseInt(Va.paddingBottom,10)})).then(ui)},fi=function e(t,n,a){Ha&&Ha.contains(a)&&(gi(t.height),Nt("resize",e))},hi=function(){Gt("resize",fi),Object(Gn.a)(window,"scroll",pi,{passive:!0})},bi=function(e,t){if(e&&e.size&&"string"!=typeof e.size)return e.size[t]},vi=function(){yi.whenFirstRendered=We(di).then((function(e){if(e){var t=Be(di),n=bi(t,0),a=bi(t,1);return 88!==n&&a&&a>0?s.a.measure((function(){var e=window.getComputedStyle(Ha);return parseInt(e.paddingTop,10)+parseInt(e.paddingBottom,10)+a||0})).then(ui):s.a.measure((function(){return Ha&&Ha.getBoundingClientRect().height||0})).then(ui)}}))},yi={update:gi,resizeStickyBanner:ui,onScroll:pi,whenFirstRendered:null},wi={books:"P5033A084-E9BF-453A-91D3-C558751D9A85",business:"P5B109609-6223-45BA-B052-55F34A79D7AD",commentisfree:"PA878EFC7-93C8-4352-905E-9E03883FD6BD",artanddesign:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",culture:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",stage:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",education:"P4A01DB74-5B97-435A-89F0-C07EA2C739EC",environment:"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1",cities:"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1","global-development":"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1","sustainable-business":"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1",fashion:"PCF345621-F34D-40B2-852C-6223C9C8F1E2",film:"P878ECFA5-14A7-4038-9924-3696C93706FC",law:"P1FA129DD-9B9E-49BB-98A4-AA7ED8523DFD",lifeandstyle:"PCFE04250-E5F6-48C7-91DB-5CED6854818C",media:"P1434DC6D-6585-4932-AE17-2864CD0AAE99",money:"PB71E7F1E-F231-4F73-9CC8-BE8822ADD0C2",music:"P78382DEE-CC9B-4B36-BD27-809007BFF300",international:"P505182AA-1D71-49D8-8287-AA222CD05424",au:"P505182AA-1D71-49D8-8287-AA222CD05424","australia-news":"P505182AA-1D71-49D8-8287-AA222CD05424",uk:"P505182AA-1D71-49D8-8287-AA222CD05424","uk-news":"P505182AA-1D71-49D8-8287-AA222CD05424",us:"P505182AA-1D71-49D8-8287-AA222CD05424","us-news":"P505182AA-1D71-49D8-8287-AA222CD05424",world:"P505182AA-1D71-49D8-8287-AA222CD05424",politics:"P5B7468E3-CE04-40FD-9444-22FB872FE83E",careers:"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","culture-professionals-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","global-development-professionals-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","government-computing-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","guardian-professional":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","healthcare-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","higher-education-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","housing-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","local-government-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","local-leaders-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","public-leaders-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","small-business-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","social-care-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","teacher-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","voluntary-sector-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","women-in-leadership":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA",science:"PDAD6BC22-C97B-4151-956B-7F069B2C56E9",society:"P7AF4A592-96FB-4255-B33F-352406F4C7D2",sport:"PCC1AEBB6-7D1A-4F34-8256-EFC314E5D0C3",football:"PCC1AEBB6-7D1A-4F34-8256-EFC314E5D0C3",technology:"P29EF991A-3FEE-4215-9F03-58EACA8286B9",travel:"PD1CEDC3E-2653-4CB6-A4FD-8A315DE07548","tv-and-radio":"P66E48909-8FC9-49E8-A7E6-0D31C61805AD","brand-only":"P0EE0F4F4-8D7C-4082-A2A4-82C84728DC59"},ki={shouldRun:a.a.get("switches.imrWorldwide")&&Object(W.a)(),url:"//secure-dcr.imrworldwide.com/novms/js/2/ggcmb510.js",onLoad:function(){var e=a.a.get("page.section","").toLowerCase(),t=e in wi?e:"The Guardian - brand only",n={sfcode:"dcr",apid:wi[e]||wi["brand-only"],apn:"theguardian"},i=NOLCMB.getInstance(n.apid);i.ggInitialize(n);var o={type:"static",assetid:a.a.get("page.pageId"),section:t};i.ggPM("staticstart",o)}},_i={shouldRun:a.a.get("switches.imrWorldwide")&&Object(W.a)(),url:"//secure-au.imrworldwide.com/v60.js",onLoad:function(){nol_t({cid:"au-guardian",content:"0",server:"secure-gl"}).record().post()}},ji=function(){window.google_trackConversion({google_conversion_id:971225648,google_custom_params:window.google_tag_params,google_remarketing_only:!0})},Pi={shouldRun:a.a.get("switches.inizio",!1),url:"//cdn.brandmetrics.com/survey/script/e96d04c832084488a841a06b49b8fb2d.js",name:"inizio",onLoad:function(){window._brandmetrics=window._brandmetrics||[],window._brandmetrics.push({cmd:"_querySurvey",val:{callback:function(e,t){e&&(window&&window.googletag&&window.googletag.cmd.push((function(){window.googletag.pubads().setTargeting("inizio","t")})),console.log("surveyAvailable: ".concat(t.measurementId)))}}})}},Oi=n(483),Bi=n.n(Oi),xi=w.a,Ci={load:function(){jt.a.mutate((function(){var e,t,n,i,o,r;e=a.a.get("page.plistaPublicApiKey"),t="innerArticle",i="PLISTA_".concat(e),o=window[i],(r=Object(v.a)(".js-plista-container")).append(function(e){return'\n    <div class="PLISTA" data-ob-template="guardian">\n        <div data-display="plista_widget_'.concat(e.widgetName,'"></div>\n    </div>\n')}({widgetName:t})),r.css("display","block"),o&&o.publickey?o.widgets.push({name:t,pre:n}):(window[i]={publickey:e,widgets:[{name:t,pre:n}],geo:"au",categories:void 0,dataMode:"data-display"},Object(ft.a)("//static-au.plista.com/async/".concat(i,".js")))}))},init:function(){return f.a.plista?xi.then((function(e){return!document.getElementById("dfp-ad--merchandising-high")||e})).then((function(e){if(!e)return We("dfp-ad--merchandising-high").then((function(e){e||Ci.load()}));Ci.load()})):Promise.resolve(!1)}},Ai=function(){var e,t,n,a,i,o;e=window,t=document,n="script",e.twq||((a=e.twq=function(){var e;a.exe?(e=a).exe.apply(e,arguments):a.queue.push(arguments)}).version="1.1",a.queue=[],(i=t.createElement(n)).async=!0,i.src="//static.ads-twitter.com/uwt.js",(o=t.getElementsByTagName(n)[0]).parentNode.insertBefore(i,o)),twq("init","nyl43"),twq("track","PageView"),twq("init","ny4k9"),twq("track","PageView")},Si=function(e){var t=document.scripts[0],n=document.createDocumentFragment(),a=!1;e.forEach((function(e){if(!0!==e.loaded){if(e.beforeLoad&&e.beforeLoad(),!0===e.useImage&&void 0!==e.url&&((new Image).src=e.url),e.insertSnippet)e.insertSnippet();else{a=!0;var t=document.createElement("script");void 0!==e.url&&(t.src=e.url),t.onload=e.onLoad,!0===e.async&&t.setAttribute("async",""),e.attrs&&e.attrs.forEach((function(e){t.setAttribute(e.name,e.value)})),n.appendChild(t)}e.loaded=!0}})),a&&s.a.mutate((function(){t&&t.parentNode&&t.parentNode.insertBefore(n,t)}))},Ii=function(){var e;!function(e,t){Si(t),Object(Le.c)((function(t){var n=e.filter((function(e){return Object(Le.b)(e.name,t)}));n.length>0&&Si(n)}))}([{shouldRun:a.a.get("switches.remarketing",!1),url:"//www.googleadservices.com/pagead/conversion_async.js",onLoad:ji,name:"remarketing"},(e={shouldRun:a.a.get("switches.permutive",!1)},{shouldRun:e.shouldRun,url:"//cdn.permutive.com/d6691a17-6fdb-4d26-85d6-b3dd27f55f08-web.js",name:"permutive"}),function(e){return{shouldRun:e.shouldRun,url:"//cdn.adsafeprotected.com/iasPET.1.js",name:"ias"}}({shouldRun:a.a.get("switches.iasAdTargeting",!1)}),Pi,{shouldRun:a.a.get("switches.facebookTrackingPixel",!1),url:"https://www.facebook.com/tr?id=".concat(a.a.get("libs.facebookAccountId"),"&ev=PageView&noscript=1"),name:"fb",useImage:!0},{shouldRun:a.a.get("switches.twitterUwt",!1),name:"twitter",insertSnippet:Ai},{shouldRun:a.a.get("switches.lotame",!1)&&!(Object(W.d)()||Object(W.a)()),url:"//tags.crwdcntrl.net/lt/c/12666/lt.min.js",beforeLoad:Y,name:"lotame"}].filter((function(e){return e.shouldRun})),[ki,_i].filter((function(e){return e.shouldRun})))},Li=!1,Ei=function(e){var t=e.currentTarget,n=t.parentNode,a=t.querySelector(".js-button__label");n.hasAttribute("open")?jt.a.mutate((function(){a.textContent="More ".concat(t.getAttribute("data-text"))})):jt.a.mutate((function(){a.textContent="Less"}))},Mi=function(e,t,n){var i=function(e){var t=e?{desktop:[u.halfPage,u.skyscraper]}:{},n=g("comments",{sizes:t});return n.forEach((function(e){e.classList.add("js-sticky-mpu")})),n}(n);return s.a.mutate((function(){return e.addClass("discussion__ad-wrapper"),a.a.get("page.isLiveBlog")||a.a.get("page.isMinuteArticle")||e.addClass("discussion__ad-wrapper-wider"),i.forEach((function(e){t.append(e)})),i[0]})).then((function(e){Ve(e,!1),Promise.resolve(y.a.emit("page:commercial:comments"))}))},Ti=function(e,t){var n=Object(v.a)(".js-ad-slot",t),a=Be("dfp-ad--comments");a&&n.length&&ze(function(e,t){return function(e){return e.sizes.desktop.some(function(e){return 300===e[0]&&600===e[1]}||function(e){return 160===e[0]&&600===e[1]})}(e)||(e.sizes.desktop.push([300,600],[160,600]),e.slot.defineSizeMapping([[[0,0],e.sizes.desktop]]),s.a.mutate((function(){t[0].setAttribute("data-desktop","1,1|2,2|300,250|300,274|fluid|300,600|160,600")}))),e}(a,n)),a||Mi(e,t,!0)},Ri=n(61),Di=n(7),Fi=n(23),zi="".concat(Object(Ri.c)(),"?acquisitionData=%7B%22componentType%22%3A%22ACQUISITIONS_OTHER%22%2C%22source%22%3A%22GUARDIAN_WEB%22%2C%22campaignCode%22%3A%22shady_pie_open_2019%22%2C%22componentId%22%3A%22shady_pie_open_2019%22%7D&INTCMP=shady_pie_open_2019"),Gi='\n<div class="contributions__adblock">\n    <a href="'.concat(zi,'">\n        <img src="https://uploads.guim.co.uk/2020/10/02/Digisubs_MPU_c1_my_opt.png" width="300" alt="" />\n    </a>\n</div>\n'),Ni=[["cm-adFreeSlotRemove",gt],["cm-closeDisabledSlots",lt],["cm-comscore",function(){return f.a.comscore&&Object(Le.c)((function(e){var t=e.tcfv2&&Object(Le.b)("comscore",e),n=!!e.ccpa;(t||n)&&function(e){Li||(window._comscore=window._comscore||[],window._comscore.push(function(e,t){var n={c1:"2",c2:"6035250",cs_ucfr:e?"1":"0"};return"Network Front"!==t&&(n.comscorekw=t),n}(!!e,a.a.get("page.keywords",""))),Object(ft.a)("//sb.scorecardresearch.com/cs/6035250/beacon.js",{id:"comscore",async:!0}),Li=!0)}(!0)})),Promise.resolve()}]];f.a.adFree||Ni.push(["cm-prepare-prebid",function(){return Pt(),Promise.resolve()}],["cm-prepare-a9",function(){return Object(Le.c)((function(e){Object(Le.b)("a9",e)&&ai()})),Promise.resolve()}],["cm-thirdPartyTags",function(){return f.a.thirdPartyTags?(f.a.adFree||(e=a.a.get("page.edition","").toLowerCase(),a.a.get("switches.plistaForAu")&&"au"===e?function(e,t){var n,i=Kt()(Bi.a);(n=a.a.get("page.seriesId")||a.a.get("page.blogIds")?".js-outbrain-anchor":".js-related, .js-outbrain-anchor",Promise.resolve(document.querySelector(n))).then((function(t){return s.a.mutate((function(){Object(v.a)(t).after(i({widgetType:e}))}))})).then(t)}("plista",Ci.init):Promise.resolve()),Ii(),Promise.resolve(!0)):Promise.resolve(!1);var e}],["cm-prepare-googletag",function(){return new Promise((function(e){return function(e,t,n,a,i){if(!t){t=t||{},window.permutive=t,t.q=[],t.config={}||{},t.config.projectId="d6691a17-6fdb-4d26-85d6-b3dd27f55f08",t.config.apiKey="359ba275-5edd-4756-84f8-21a24369ce0b",t.config.environment=t.config.environment||"production";for(var o=["addon","identify","track","trigger","query","segment","segments","ready","on","once","user","consent"],r=0;r<o.length;r++){var s=o[r];t[s]=function(e){return function(){var n=Array.prototype.slice.call(arguments,0);t.q.push({functionName:e,arguments:n})}}(s)}}}(document,window.permutive),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){if(0===window.googletag.pubads().getTargeting("permutive").length){var e=window.localStorage.getItem("_pdfps");window.googletag.pubads().setTargeting("permutive",e?JSON.parse(e):[])}})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;try{if(!t||!t.addon)throw new Error("Global Permutive setup error");var a=ti(e);a.length>0&&t.identify(a);var i=ei(e);t.addon("web",{page:i})}catch(e){n(e,{feature:"commercial"},!1)}}({user:a.a.get("user",{}),page:a.a.get("page",{}),ophan:a.a.get("ophan",{})},permutive,r.a),e()})).then(Ka)}],["cm-redplanet",function(){return f.a.launchpad&&Object(W.a)()?(Object(Le.c)((function(e){if(e.ccpa)throw new Error("Error running Redplanet with CCPA (US CMP) present. It should only run in Australia on TCFv2 mode");var t=Object(Le.b)("redplanet",e);if(!ni&&t)return ni=!0,n.e(43).then(n.t.bind(null,576,7)).then((function(){return window.launchpad("newTracker","launchpad","lpx.qantas.com",{discoverRootDomain:!0,appId:"the-guardian"}),window.launchpad("trackUnstructEvent",{schema:"iglu:com.qantas.launchpad/hierarchy/jsonschema/1-0-0",data:{u1:"theguardian.com",u2:a.a.get("page.section"),u3:a.a.get("page.sectionName"),u4:a.a.get("page.contentType"),uid:a.a.get("ophan",{}).browserId}}),Promise.resolve()}))})),Promise.resolve()):Promise.resolve()}],["cm-prepare-adverification",function(){return a.a.get("switches.confiantAdVerification")?Object(ft.a)("//".concat("confiant-integrations.global.ssl.fastly.net","/7oDgiTsq88US4rrBG0_Nxpafkrg/gpt_and_prebid/config.js"),{async:!0}).catch(ht):Promise.resolve()}],["cm-mobileSticky",function(){if(Object(J.n)()){var e=a.a.get("isDotcomRendering",!1)?function(){var e=document.querySelector(".mobilesticky-container");if(e){var t=g("mobile-sticky",{})[0];e.appendChild(t)}return e}():function(){var e=document.createElement("div");e.className="mobilesticky-container";var t=g("mobile-sticky",{})[0];return e.appendChild(t),e}();return s.a.mutate((function(){document.body&&e&&document.body.appendChild(e)})).then((function(){if(e){var t=e.querySelector("#dfp-ad--mobile-sticky");t&&Ve(t,!0)}}))}return Promise.resolve()}],["cm-highMerch",function(){if(f.a.highMerch){var e=a.a.get("page.commentable")?"#comments + *":".content-footer > :first-child",t=document.querySelector(e),n=document.createElement("div");return n.className="fc-container fc-container--commercial",g(a.a.get("page.isPaidContent")?"high-merch-paid":"high-merch").forEach((function(e){n.appendChild(e)})),s.a.mutate((function(){t&&t.parentNode&&t.parentNode.insertBefore(n,t)}))}return Promise.resolve()}],["cm-articleAsideAdverts",function(){var e=Object(v.a)(".js-secondary-column");if(!e.length||"none"===e.css("display"))return Promise.resolve(!1);var t=Object(v.a)(".js-content-main-column"),n=Object(v.a)(".js-ad-slot",e),i=Object(v.a)(".element--immersive",t);return n.length&&t.length?s.a.measure((function(){return[t.dim().height,i.offset().top-t.offset().top]})).then((function(e){var t=b()(e,2),o=t[0],r=t[1];return a.a.get("page.hasShowcaseMainElement",!1)?n[0]:a.a.get("page.isImmersive")&&i.length>0?s.a.mutate((function(){var e;return n.removeClass("right-sticky js-sticky-mpu is-sticky"),n[0].setAttribute("data-mobile",(e=r)>600?"1,1|2,2|300,250|300,274|300,600|fluid":e>274?"1,1|2,2|300,250|300,274":e>250?"1,1|2,2|300,250":"1,1|2,2"),n[0]})):o<1300?s.a.mutate((function(){return n.removeClass("right-sticky js-sticky-mpu is-sticky"),n[0].setAttribute("data-mobile","1,1|2,2|300,250|300,274|fluid"),n[0]})):n[0]})).then((function(e){return y.a.emit("page:defaultcommercial:right",e),!0})):Promise.resolve(!1)}],["cm-articleBodyAdverts",function(){return y.a.on("page:article:redisplayed",rt),document.addEventListener("dcr:page:article:redisplayed",rt),rt()}],["cm-liveblogAdverts",function(){return f.a.liveblogAdverts?(s.a.measure((function(){return Fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.documentElement&&e.documentElement.clientHeight?e.documentElement.clientHeight:0}()})).then(oi).then(si),Promise.resolve()):Promise.resolve()}],["cm-stickyTopBanner",function(){return f.a.stickyTopBannerAd?(Ha=document.getElementById(di))&&Object(w.m)({min:"desktop"})?(Ga=document.getElementById("header"),Ua=Ha.parentNode,s.a.measure((function(){return Ga&&(Na=Ga.getBoundingClientRect().height),Ha&&Ha.getBoundingClientRect().height||0})).then((function(e){return Promise.all([ui(e),pi()])})).then(hi).then(vi)):(Ha=null,Promise.resolve()):Promise.resolve()}],["cm-paidContainers",function(){var e,t=ct()(".dumathoin-more > summary");return Pn.a.on(document,"click",t,Ei),Pn.a.on(document,"click",t,(e=Ei,function(t){32!==t.keyCode&&13!==t.keyCode||e(t)})),Promise.resolve()}],["cm-paidforBand",function(){if(!f.a.paidforBand)return Promise.resolve(!1);var e=document.querySelector(".paidfor-band");return e&&new It.a(e).init(),Promise.resolve(!0)}],["cm-commentAdverts",function(){var e=Object(v.a)(".js-discussion__ad-slot"),t="mobile"===Object(w.d)();return f.a.commentAdverts&&e.length&&!t?(y.a.once("modules:comments:renderComments:rendered",(function(){var t=Object(Bt.k)(),n=Object(v.a)(".js-comments .content__main-column");s.a.measure((function(){return n.dim().height})).then((function(a){a>=800||t&&a>=600?Mi(n,e,!0):t&&Mi(n,e,!1),y.a.on("discussion:comments:get-more-replies",(function(){Ti(n,e)}))}))})),Promise.resolve(!0)):Promise.resolve(!1)}],["rr-adblock-ask",function(){Object(Di.q)()||Object(Fi.i)()||a.a.get("page.hasShowcaseMainElement")||s.a.measure((function(){return Object(v.a)(".js-aside-slot-container")})).then((function(e){e&&s.a.mutate((function(){e.append(Gi)}))}))}]);var Hi=function(){var e=[];return Ni.forEach((function(t){var n=t[0],a=t[1];Object(i.b)([[n,function(){var t=a();e.push(t)}]],{feature:"commercial"})})),Promise.all(e)},qi=function(){return Object(o.c)("commercial start"),Object(i.b)([["ga-user-timing-commercial-start",function(){Object(ha.d)("Javascript Load","commercialStart","Commercial start parse time")}]],{feature:"commercial"}),window.googletag={cmd:[]},(a.a.get("page.isHosted")?new Promise((function(e){n.e(12).then(function(t){var a=n(572),i=n(594),o=n(573),r=n(493),s=n(574);Ni.push(["cm-hostedAbout",a.init],["cm-hostedVideo",i.initHostedVideo],["cm-hostedGallery",o.init],["cm-hostedOnward",s.loadOnwardComponent],["cm-hostedOJCarousel",r.initHostedCarousel]),e()}.bind(null,n)).catch(n.oe)})):Promise.resolve()).then(Hi).then((function(){Object(o.c)("commercial end"),Object(i.b)([["ga-user-timing-commercial-end",function(){Object(ha.d)("Javascript Load","commercialEnd","Commercial end parse time")}]],{feature:"commercial"})})).catch((function(e){Object(r.a)(e,{feature:"commercial"},!1)}))}}}]);
//# sourceMappingURL=graun.commercial.js.map